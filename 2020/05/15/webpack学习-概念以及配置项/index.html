<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="webpack学习--概念以及配置项"><meta name="keywords" content="webpack学习笔记"><meta name="author" content="舒小琦"><meta name="copyright" content="舒小琦"><title>webpack学习--概念以及配置项 | 舒小琦的Blog</title><meta name="robots" content="noindex"><link rel="shortcut icon" href="http://p6.qhimg.com/t01f5a5270b7946b505.jpg"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%EF%BC%88entry%EF%BC%89"><span class="toc-number">1.1.</span> <span class="toc-text">入口（entry）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%B8%AA%E5%85%A5%E5%8F%A3"><span class="toc-number">1.1.1.</span> <span class="toc-text">单个入口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E8%AF%AD%E6%B3%95"><span class="toc-number">1.1.2.</span> <span class="toc-text">对象语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%EF%BC%88output%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">输出（output）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#loader"><span class="toc-number">1.3.</span> <span class="toc-text">loader</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8loader"><span class="toc-number">1.3.1.</span> <span class="toc-text">使用loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.2.</span> <span class="toc-text">配置方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6%EF%BC%88plugin%EF%BC%89"><span class="toc-number">1.4.</span> <span class="toc-text">插件（plugin）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%EF%BC%88Mode%EF%BC%89"><span class="toc-number">1.5.</span> <span class="toc-text">模式（Mode）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9"><span class="toc-number">3.</span> <span class="toc-text">配置选项</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%EF%BC%88context%EF%BC%89"><span class="toc-number">3.1.</span> <span class="toc-text">上下文（context）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%EF%BC%88entry%EF%BC%89-1"><span class="toc-number">3.2.</span> <span class="toc-text">入口（entry）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1-entry"><span class="toc-number">3.2.1.</span> <span class="toc-text">对象 entry</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#key"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#value"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">value</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9Cvalue%E6%98%AF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.2.1.2.1.</span> <span class="toc-text">如果value是字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9Cvalue%E6%98%AF%E6%95%B0%E7%BB%84"><span class="toc-number">3.2.1.2.2.</span> <span class="toc-text">如果value是数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9Cvalue%E6%98%AF%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.1.2.3.</span> <span class="toc-text">如果value是对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Import%E5%AD%97%E6%AE%B5"><span class="toc-number">3.2.1.2.3.1.</span> <span class="toc-text">Import字段</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#filename%E5%AD%97%E6%AE%B5"><span class="toc-number">3.2.1.2.3.2.</span> <span class="toc-text">filename字段</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#dependOn"><span class="toc-number">3.2.1.2.3.3.</span> <span class="toc-text">dependOn</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2entry%EF%BC%9A"><span class="toc-number">3.2.2.</span> <span class="toc-text">字符串entry：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-entry"><span class="toc-number">3.2.3.</span> <span class="toc-text">数组 entry</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%EF%BC%88mode%EF%BC%89"><span class="toc-number">3.3.</span> <span class="toc-text">模式（mode）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%B3%95"><span class="toc-number">3.3.1.</span> <span class="toc-text">用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E9%A1%B9%E6%8F%8F%E8%BF%B0"><span class="toc-number">3.3.2.</span> <span class="toc-text">选项描述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#development"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">development</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#production"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">production</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#none"><span class="toc-number">3.3.2.3.</span> <span class="toc-text">none</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%EF%BC%88output%EF%BC%89-1"><span class="toc-number">3.3.3.</span> <span class="toc-text">输出（output）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#library"><span class="toc-number">3.3.3.1.</span> <span class="toc-text">library</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#libraryTarget"><span class="toc-number">3.3.3.2.</span> <span class="toc-text">libraryTarget</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#auxiliaryComment"><span class="toc-number">3.3.3.3.</span> <span class="toc-text">auxiliaryComment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filename"><span class="toc-number">3.3.3.4.</span> <span class="toc-text">filename</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chunkFilename"><span class="toc-number">3.3.3.5.</span> <span class="toc-text">chunkFilename</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#path"><span class="toc-number">3.3.3.6.</span> <span class="toc-text">path</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#publicPath"><span class="toc-number">3.3.3.7.</span> <span class="toc-text">publicPath</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://p6.qhimg.com/t01f5a5270b7946b505.jpg"></div><div class="author-info__name text-center">舒小琦</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">56</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">13</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">13</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/webp.webp)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">舒小琦的Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/shuliqi-design">组件</a><a class="site-page" href="/about">关于</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">webpack学习--概念以及配置项</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-15</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/webpack%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">webpack学习笔记</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>在平常的工作中，经常使用到<code>webpack</code>，大多数是脚手架直接帮我们配置好。一直想好好从零开始学习<code>webpack</code>。减少对脚手架的依赖。</p>
<p>这篇博客将先学习基础的概念， 然后看<code>webpack</code>的配置项，由于有些配置项很长， 所以会分开写，但是总体的配置项还是会在这里显示。</p>
<p>所以会导致这篇文章持续待续的状态</p>
 <span id="more"></span>

<h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><p><code>webpack</code> 是一个用于现在<code>JavaScript</code> 应用程序的静态模块打包工具，当<code>webpack</code>处理应用程序时，会在内部构建一个依赖图，该依赖图对应映射到项目所需的每个模块，最后生成一个或者多个 bundle。</p>
<p>webpack 有一些核心的概念需要理解：</p>
<ul>
<li>入口（<code>entry</code>）</li>
<li>输出（<code>output</code>）</li>
<li><code>loader</code></li>
<li>插件（<code>plugin</code>）</li>
<li>模式（<code>mode</code>）</li>
<li>浏览器兼容（<code>browser compatibility</code>）</li>
</ul>
<ul>
<li>环境（<code>environment</code>）</li>
</ul>
<p>下面我们就分别来学习这些模块</p>
<h2 id="入口（entry）"><a href="#入口（entry）" class="headerlink" title="入口（entry）"></a>入口（entry）</h2><p>入口（<code>entry</code>）指示webpack应该使用哪个模块来作为构建其内部依赖图的开始。进入入口起点后，<code>webpack</code>会找出有哪些模块和库是入口起点依赖的。</p>
<p>默认值：    <code>src/index.js</code>. 但是可以在配置文件中配置entry的属性。</p>
<p><code>webpack</code>配置中有多种方式定义 entry 属性。</p>
<h3 id="单个入口"><a href="#单个入口" class="headerlink" title="单个入口"></a>单个入口</h3><p>用法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">entry: string | [string]</span><br></pre></td></tr></table></figure>

<p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">entry</span>: <span class="string">&#x27;./path/myproject/src/index.js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可以简写如下：</p>
<p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">entry</span>: &#123;</span><br><span class="line">		<span class="attr">main</span>: <span class="string">&#x27;./path/myproject/src/index.js&#x27;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>也可以将一个文件路径数组传递给<code>entry</code>属性，这将会创建一个所谓的 <code>multi-main entry</code>。如果想一次性注入多个依赖的文件，并且想它们依赖关系绘制在一个<code>chunk</code>中时， 就可以使用这种方式</p>
<p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">entry</span>: [</span><br><span class="line">		<span class="string">&#x27;src/1.js&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;src/2.js&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;src/3.js&#x27;</span>,</span><br><span class="line">	],</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果你希望通过一个入口为应用程序快速设置<code>webpac</code>k配置时候，单一入口的方式就是一个很合适的选择，但是使用这种语法方式来扩展或调整配置的灵活性不大。</p>
<h3 id="对象语法"><a href="#对象语法" class="headerlink" title="对象语法"></a>对象语法</h3><p>用法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123; &lt;entryChunkName&gt; string | [string]&#125; | &#123;&#125;</span><br></pre></td></tr></table></figure>

<p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">entry</span>: &#123;</span><br><span class="line">		<span class="attr">main</span>: <span class="string">&#x27;src/main.js&#x27;</span>,</span><br><span class="line">		<span class="attr">admin</span>: <span class="string">&#x27;src/admin.js&#x27;</span>,</span><br><span class="line">    <span class="attr">index</span>: <span class="string">&#x27;src/index.js&#x27;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对象语法会比较繁琐，但是，这是应用程序中定义入口最可扩展的方式。</p>
<blockquote>
<p>这里的最可扩展是指这些配置可以重复使用，并且与其他配置组合使用。</p>
</blockquote>
<h2 id="输出（output）"><a href="#输出（output）" class="headerlink" title="输出（output）"></a>输出（output）</h2><p><code>output </code>属性告诉wbpack 在哪里输出它创建的 bundle，以及如何命名这些文件。</p>
<p>主要输出文件的默认值是<code>./dist/main.js</code>, 其他生成的文件默认放置在<code>./dist</code>文件夹中。</p>
<p><strong>注意：</strong> 即使存在多个<code> entry</code> 起点，但也只能指定一个 <code>output </code>配置。</p>
<p>用法：  在<code>webpack </code>配置中， output属性的最低要求是将它配置成一个对象，然后为输出的文件配置名字(<strong>output.filnename</strong>)</p>
<p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">output</span>: &#123;</span><br><span class="line">		<span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个配置将一个单独的<code> bundle.js</code> 文件输出到 dist 目录中。</p>
<p>如果是多个入口起点， 则应该使用 <strong>占位符</strong> 来确保每一个文件具有唯一的名称。</p>
<ul>
<li><code>name</code> 如果设置，则为<code>chunk</code>的名称，否则使用<code>chunk</code>的<code>ID </code></li>
</ul>
<ul>
<li><p>[ id ]:   chunk的ID</p>
</li>
<li><p>[ contenthash ]: 此chunk的hash值只包括该内容类型的元素（受optimization.realContentHash影响</p>
</li>
<li><p>[  chunkhash  ]: 此chunk的hash值，包含该chunk的所有元素</p>
</li>
</ul>
<p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">entry</span>: &#123;</span><br><span class="line">		<span class="attr">main</span>: <span class="string">&#x27;./src/main.js&#x27;</span>，</span><br><span class="line">		<span class="attr">admin</span>: <span class="string">&#x27;./src/admin.js&#x27;</span>，</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">output</span>: &#123;</span><br><span class="line">		<span class="attr">filename</span>: [name].js,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这配置最终dist目录：main.js, admin.js</p>
<p>其次<code> output</code> 属性可配置的字段常用的还有<strong>output.path</strong>字段</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">output</span>: &#123;</span><br><span class="line">		<span class="attr">filename</span>: [name].js</span><br><span class="line">		<span class="attr">path</span>: path.resolve(__dirname, <span class="string">&#x27;/dist&#x27;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h2><p><code>webpack</code>只能理解<code>javaScript </code>和 <code>JSON</code> 文件。这是<code>webpack</code> 开箱可用的能力。<code>loader让webpack</code> 能够去处理其他类型的文件，并将它们转换成有效的模块，已供应用使用， 以及被添加到依赖图中，即loader用于对模块的源代码进行转换。loader可以使你在import 或者l ”load加载“模块时预处理文件。</p>
<p>在<code>webpac</code>k配置中，<code>loader </code>有两个属性：</p>
<ul>
<li><code>test</code>属性， 识别出哪些文件会被转换</li>
<li><code>use</code>属性，定义在进行转换时，应该使用哪个<code>loader</code></li>
</ul>
<p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exportas = &#123;</span><br><span class="line">	<span class="attr">output</span>: &#123;</span><br><span class="line">		<span class="attr">filename</span>: [name].js</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">module</span>: &#123;</span><br><span class="line">		<span class="attr">rules</span>: [</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="attr">test</span>: <span class="regexp">/\.css$/</span>, </span><br><span class="line">				use: <span class="string">&#x27;css-laoder&#x27;</span></span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的配置中， 对一个单独的<code>module </code>对象定义了 rules 属性、里面的每个配置都包含了两个必须的属性：<code>test</code>。<code> use</code> 。</p>
<p>这个配置的意思就是：</p>
<blockquote>
<p>当遇到<code>import/ require</code>语句中解析有<code>.css</code>的路径时，在对它进行打包之前，先使用<code> css-loader</code> 转换一下。</p>
</blockquote>
<p><strong>注意1：</strong>在<code>webpack</code>配置中定义<code>rules</code>时， 要定义在<code>module.rules</code> 中而不是<code> rules</code>中。 </p>
<p><strong>注意2：</strong>在<code>webpack</code> 中使用正则表达式时， 不给它添加引号。也就是说：<code>/\.css$/</code>和 <code> /\.css$/</code> 或者 <code> /\.css$/</code> 是不一样的。前者的意思是匹配任何以<code>.css</code> 结尾的文件。而后者指示<code>webpack</code>匹配具有绝对路径<code>.css</code>的对单个文件。</p>
<h3 id="使用loader"><a href="#使用loader" class="headerlink" title="使用loader"></a>使用loader</h3><p>在应用程序中使用<code>loader</code> 有三种方式：</p>
<ul>
<li>配置方式（推荐使用）: 在配置文件中指定<code>loader</code></li>
<li>内联方式 ：在每个import 文语句显示的指定<code>loader</code></li>
<li><code>CLI</code>方式：在<code>shell</code>命令中指定它们</li>
</ul>
<h3 id="配置方式"><a href="#配置方式" class="headerlink" title="配置方式"></a>配置方式</h3><p>这种方式是在配置文件中的<code>module.rules</code>中配置。允许webpack配置中配置多个<code>loader</code>。<code>loader</code>从右到左的取值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">module</span>: &#123;</span><br><span class="line">		<span class="attr">rules</span>: [</span><br><span class="line">			&#123; </span><br><span class="line">				<span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">				use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;sass-loader&#x27;</span>]</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个配置表示：匹配所有的<code>.css</code>结尾的文件，先后分别使用<code> sass-loader</code>, <code>css-loader</code>,<code> style-loader</code>进行转换。</p>
<h2 id="插件（plugin）"><a href="#插件（plugin）" class="headerlink" title="插件（plugin）"></a>插件（plugin）</h2><p><code>loader</code> 是用于转换某些类型的模块，而插件则可以用于执行范围更广的任务。包括：打包优化，资源管理，注入环境变量等。</p>
<p>使用一个插件，需要<code>require（）</code>它，然后添加在<code>webpac</code>k配置中的 <code>plugins</code> 数组中。多数的插件是可以通过选项来自定义的。</p>
<p>由于插件可以携带参数/选项，所以在<code>webpac</code>k配置中，向 <code>plugins</code> 属性传入一个 new 实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="attr">plugins</span>: [</span><br><span class="line">		<span class="keyword">new</span> HtmlWebpackPlugin()</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个配置我们使用了一个插件<code> html-webpack-plugin</code> 这个插件为应用程序生成一个<code>HTML</code> 文件，并且自动注入所有生成的<code>bundle</code>。</p>
<p>插件的用法有两种：</p>
<ul>
<li><p>配置方式</p>
<p>就如上的示例</p>
</li>
<li><p>Node API 方式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>); <span class="comment">// 访问 webpack 运行时(runtime)</span></span><br><span class="line"><span class="keyword">const</span> configuration = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.config.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> compiler = webpack(configuration);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> webpack.ProgressPlugin().apply(compiler);</span><br><span class="line"></span><br><span class="line">compiler.run(<span class="function"><span class="keyword">function</span>(<span class="params">err, stats</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>想要看看 webpack 插件有哪些，可以看看 <a target="_blank" rel="noopener" href="https://webpack.docschina.org/plugins/">插件列表</a>。当然插件列表也不是全的， 有很多插件都是用户自己上传的，可以的话， 也可以到npm 上面搜 webpack等字样。</p>
<h2 id="模式（Mode）"><a href="#模式（Mode）" class="headerlink" title="模式（Mode）"></a>模式（Mode）</h2><p>通过选择 development, production，none 之中的一个来设置 mode 参数，来启用webpack 内置在相应环境下的优化， 默认值： production。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">	mode: &#x27;production&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者也可以在CLI 参数中传递：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack --mode=&#x27;development&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li>development : 会将DefinePlugin中的 process.env.NODE_ENV 的值设置为 development，为模块和 chunk启用有效的名</li>
<li>production： 会将 <code>DefinePlugin</code> 中 <code>process.env.NODE_ENV</code> 的值设置为 <code>production</code>。为模块和 chunk 启用确定性的混淆名称等</li>
<li>none: 不使用任何的默认优化选项</li>
</ul>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>一些需要了解的概念已经了解的差不多了， 那么接下来就是具体的配置项了。</p>
<p>webpack 是开箱即用的， 也就是说无需任何的配置文件，这种情况下webpack会假定项目的入口起点是 <code>src/index.js</code>，然后会在 <code>dist/main.js</code>中输出结果。并且在生产环境开启压缩和优化。</p>
<p>举个例子：</p>
<p>假如我们有这样的目录结构：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">|--src</span><br><span class="line">	 |--index.js</span><br></pre></td></tr></table></figure>

<p>我们在根目录命令行输入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack</span><br></pre></td></tr></table></figure>

<p>这时候我们发现跟目录多了一个文件夹<code>dist</code>，该文件夹里面有main.js。即目前的文件文件目录为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	 |--main.js</span><br><span class="line">|--src</span><br><span class="line">	 |--index.js</span><br></pre></td></tr></table></figure>

<p>所有可以看出不用做任何的配置就可以直接使用webpack。</p>
<p>虽然我们可以直接使用webpack来打包， 但是通常的情况下， 我们的项目都需要继续扩展能力，因此可以在根目录下创建 webpack.config.js 文件。 然后webpack 会自动使用它。</p>
<p>我们在根目录新建一个文件<code>webpack.config.js</code>。内容如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// 入口起点</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">// 输出</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// 输出的文件的名字</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;shuliqi.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这配置文件，我们修改了入口起点。输出的文件名我们也改成<code>shuliqi.js</code>。然后我们在根目录执行命令：<code>webpack</code>. 最后我们会看到我们的文件目录是这样的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	 |--shuliqi.js</span><br><span class="line">|--src</span><br><span class="line">	 |--main.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>由此可知，在根目录有webpack.config.js配置文件的话，输入<code>webpack</code>命令的时候会使用这个配置文件。</p>
<p>当然在某些特定的额情况下，需要根据实际情况使用不用的配置文件。webpack也可以使用不用的配置文件， 只需要在命令行中使用<code>--congig flag</code>修改配置文件名称。</p>
<p>我们新建一个文件<code>webpack.dev.js</code>,内容如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// webpack.dev.js配置的入口</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/dev.js&#x27;</span>,</span><br><span class="line">  <span class="comment">// 输出</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// webpack.dev.js配置的输出的文件的名字</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;output-dev.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后我们在命令行执行：<code>webpack --config webpack.dev.js</code>。然后我们可以到打包之后的结果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	 |--output-dev.js</span><br><span class="line">|--src</span><br><span class="line">	 |--dev.js</span><br><span class="line">|--webpack.dev.js</span><br></pre></td></tr></table></figure>

<p>可以看到打包结果跟我们配置文件写的一样(打包之后输出的名字，打包的入口)。</p>
<h1 id="配置选项"><a href="#配置选项" class="headerlink" title="配置选项"></a>配置选项</h1><h2 id="上下文（context）"><a href="#上下文（context）" class="headerlink" title="上下文（context）"></a>上下文（context）</h2><p><strong>用法:</strong> <code> context: string</code></p>
<p><strong>概念：</strong> 基础路径，绝对路径，用于从配置文件中解析入口起点(entry)</p>
<p>入口对象是用于webpack查找看是构建bundle的地方。 上下文是入口文件所处的目录的绝对路径的字符串。</p>
<p>webpack 默认的上下文是当前的目录。 我们可以使用context修改上下文。</p>
<p>我们建一个文件夹，目录结构如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">|--app</span><br><span class="line">	 |--index.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>我们的配置文件webpack.config.js的内容如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// 将上下文修改为 当前绝对路径的app目录下面,我们的额入口起点将是在这个目录下面</span></span><br><span class="line">  <span class="comment">// ps:可以先注释注释点这个配置，如果这样打包是会报错的</span></span><br><span class="line">  <span class="attr">context</span>: path.resolve(__dirname, <span class="string">&#x27;app&#x27;</span>),</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./index.js&#x27;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;shuliqi.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果我们注释掉：<code> context: path.resolve(__dirname, &#39;app&#39;)。然后根目录命令:</code>webpack`。 这时候会报错：</p>
   

<p>我们不注释 ` context: path.resolve(__dirname, ‘app’)的话， 是能正常打包的，正常打包的结果如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	 |-- shuliqi.js</span><br><span class="line">|--src</span><br><span class="line">	 |--index.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>从上面的例子可以看出 context 的作用了，如果没有设置 context  我们的 entry 应该这么写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">entry: <span class="string">&#x27;./app/index.js&#x27;</span>,</span><br></pre></td></tr></table></figure>

<p>不禁想问， context 的好处是什么呢？ 我们不用设置 context 也可以进行打包的呀。嗯哈？</p>
<p>假如我们要打包 app 下面的很多js 文件，我们不设置的 context 修改的当前入口目录的话，那么我们是不是每个都需要写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">entry:[<span class="string">&#x27;./app/1.js&#x27;</span>, <span class="string">&#x27;./app/2.js&#x27;</span>, <span class="string">&#x27;./app/3.js&#x27;</span>, <span class="string">&#x27;./app/4.js&#x27;</span>, ...],</span><br></pre></td></tr></table></figure>

<p>这样每个文件都要写 ‘./app/XXX’， 是不是有点繁琐了？ 那这时候使用 contetxt 就很方便了。</p>
<h2 id="入口（entry）-1"><a href="#入口（entry）-1" class="headerlink" title="入口（entry）"></a>入口（entry）</h2><p>配置文件中的 entry 接受三种形式的值：String（字符串），Array（数组）， Object（对象）。</p>
<p>我们先来介绍对象形式，因为这是最完整的 entry 配置，其他的形式只是它的简化形式而已。</p>
<h3 id="对象-entry"><a href="#对象-entry" class="headerlink" title="对象 entry"></a>对象 entry</h3><p>对象的形式如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">	&lt;key&gt;: &lt;value&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="key"><a href="#key" class="headerlink" title="key"></a>key</h4><p><strong>key 值可以使简单的字符串， 比如： main，index等等。并且对应着 output.filename 配置中的  [name]变量。</strong></p>
<p>假如我们有这样的文件路径：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>webpack.config.js：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="attr">app</span>: <span class="string">&#x27;./src/index.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].js&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>根据上面的配置，我们在根目录执行 <code>webpack</code> 命令之后可以生成：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	|--app.js</span><br><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>



<p>**key 还可以是路径字符串， webpack 会自动生成路径目录，并将路径的最后最为[name]**。这个特性在多页面配置下是很有用的。</p>
<p>假如我们还是一样的目录：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>webpack.config.js：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;public/static/app&#x27;</span>: <span class="string">&#x27;./src/index.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].js&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>根据上面的配置，我们在根目录执行 <code>webpack</code> 命令之后可以生成：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	|--public</span><br><span class="line">		|--<span class="keyword">static</span></span><br><span class="line">			|--app.js</span><br><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<h4 id="value"><a href="#value" class="headerlink" title="value"></a>value</h4><h5 id="如果value是字符串"><a href="#如果value是字符串" class="headerlink" title="如果value是字符串"></a>如果value是字符串</h5><p>如果value 是字符串，那么必须是合理的 node reqiur  函数参数字符串，比如文件径：’./app.js’（require(‘./app.js’)）；比如是安装的npm 模块路径：’lodash’（require(‘lodash’))</p>
<p>假如有这样的路径：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">|--webpack.config.js</span><br><span class="line">|--package.json</span><br></pre></td></tr></table></figure>

<p>package.json：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;webpack-demo&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;webpack.config.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span>,</span><br><span class="line">  <span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;lodash&quot;</span>: <span class="string">&quot;^4.17.20&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>webpack.config.js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;my-lodash&#x27;</span>: <span class="string">&#x27;lodash&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].js&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样的配置打包生成：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	|--my-lodash.js</span><br><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">|--webpack.config.js</span><br><span class="line">|--package.json</span><br></pre></td></tr></table></figure>





<h5 id="如果value是数组"><a href="#如果value是数组" class="headerlink" title="如果value是数组"></a>如果value是数组</h5><p>则数组中的元素要符合上面描述的合理字符串值，数组中的文件一般是没有互相依赖关联关系的。但是又处于某种原因要将它们打包在一起的。</p>
<p>假如这样的目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">	|--main.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>webpack.config.js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;all&#x27;</span>: [<span class="string">&#x27;./src/index.js&#x27;</span>, <span class="string">&#x27;./src/main.js&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].js&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上的配置打生成：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	|-all.js</span><br><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">	|--main.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>


<h5 id="如果value是对象"><a href="#如果value是对象" class="headerlink" title="如果value是对象"></a>如果value是对象</h5><h6 id="Import字段"><a href="#Import字段" class="headerlink" title="Import字段"></a>Import字段</h6><p>Import字段表示引入入口 chunk</p>
<p>如这样的目录：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">	|--main.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>



<p>webpack.config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"> <span class="attr">entry</span>: &#123;</span><br><span class="line">   <span class="string">&#x27;app&#x27;</span>: &#123;  <span class="attr">import</span>: <span class="string">&#x27;./src/index.js&#x27;</span>&#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样的配置打包生成：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	|--app.js</span><br><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">	|--main.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>当然imprt 也可以是数组:</p>
<p>webpack.config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"> <span class="attr">entry</span>: &#123;</span><br><span class="line">   <span class="string">&#x27;app&#x27;</span>: &#123;  <span class="attr">import</span>: [<span class="string">&#x27;./src/index.js&#x27;</span>, <span class="string">&#x27;./src/main.js&#x27;</span>]&#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>打包生成和上面的例子相同。</p>
<h6 id="filename字段"><a href="#filename字段" class="headerlink" title="filename字段"></a>filename字段</h6><p>filename字段为特定的入口指定一个自定义的输出文件名</p>
<p>同样的目录：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">	|--main.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>webpack.config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"> <span class="attr">entry</span>: &#123;</span><br><span class="line">   <span class="comment">//  给当前的入口 chunk 自定义输出文件名 shuliqi.js</span></span><br><span class="line">   <span class="string">&#x27;app&#x27;</span>: &#123;  <span class="attr">import</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="attr">filename</span>:<span class="string">&#x27;shuliqi.js&#x27;</span>&#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样的配置打包生成：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	|--shuliqi.js</span><br><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">	|--main.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<h6 id="dependOn"><a href="#dependOn" class="headerlink" title="dependOn"></a>dependOn</h6><p>dependOn字段可以设置与另一个入口chunk 共享哪些模块</p>
<p>假如我们有这样的目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|--src</span><br><span class="line">	|--common.js</span><br><span class="line">	|--index.js</span><br><span class="line">	|--main.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>common.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;common.js&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./common.js&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;index.js&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./common.js&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;main.js&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>webpack.config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;common&#x27;</span>: <span class="string">&#x27;./src/ common.js&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;index&#x27;</span>: &#123; <span class="attr">import</span>: <span class="string">&#x27;./src/index.js&#x27;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;main&#x27;</span>: &#123; <span class="attr">import</span>: <span class="string">&#x27;./src/main.js&#x27;</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果我们是这样配置生成的是：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">|--dist</span><br><span class="line">	|--main.js</span><br><span class="line">	|--index.js</span><br><span class="line">	|--common.js</span><br><span class="line">|--src</span><br><span class="line">	|--index.js</span><br><span class="line">	|--main.js</span><br><span class="line">	|--common.js</span><br><span class="line">|--webpack.config.js</span><br></pre></td></tr></table></figure>

<p>其中生成的 index.js  main.js 是包含 common 模块的。</p>
<p>index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">()=&gt;</span>&#123;<span class="keyword">var</span> e=&#123;<span class="number">62</span>:<span class="function">()=&gt;</span>&#123;<span class="built_in">console</span>.log(<span class="string">&quot;common.js&quot;</span>)&#125;&#125;,o=&#123;&#125;;<span class="function"><span class="keyword">function</span> <span class="title">r</span>(<span class="params">t</span>)</span>&#123;<span class="keyword">if</span>(o[t])<span class="keyword">return</span> o[t].exports;<span class="keyword">var</span> n=o[t]=&#123;<span class="attr">exports</span>:&#123;&#125;&#125;;<span class="keyword">return</span> e[t](n,n.exports,r),n.exports&#125;r.n=<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="keyword">var</span> o=e&amp;&amp;e.__esModule?<span class="function">()=&gt;</span>e.default:<span class="function">()=&gt;</span>e;<span class="keyword">return</span> r.d(o,&#123;<span class="attr">a</span>:o&#125;),o&#125;,r.d=<span class="function">(<span class="params">e,o</span>)=&gt;</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t <span class="keyword">in</span> o)r.o(o,t)&amp;&amp;!r.o(e,t)&amp;&amp;<span class="built_in">Object</span>.defineProperty(e,t,&#123;<span class="attr">enumerable</span>:!<span class="number">0</span>,<span class="attr">get</span>:o[t]&#125;)&#125;,r.o=<span class="function">(<span class="params">e,o</span>)=&gt;</span><span class="built_in">Object</span>.prototype.hasOwnProperty.call(e,o),(<span class="function">()=&gt;</span>&#123;<span class="string">&quot;use strict&quot;</span>;r(<span class="number">62</span>),<span class="built_in">console</span>.log(<span class="string">&quot;index.js&quot;</span>)&#125;)()&#125;)();</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(()=&gt;&#123;<span class="keyword">var</span> e=&#123;<span class="number">62</span>:()=&gt;&#123;console.log(<span class="string">&quot;common.js&quot;</span>)&#125;&#125;,o=&#123;&#125;;<span class="function">function <span class="title">r</span><span class="params">(t)</span></span>&#123;<span class="keyword">if</span>(o[t])<span class="keyword">return</span> o[t].<span class="keyword">exports</span>;<span class="keyword">var</span> n=o[t]=&#123;<span class="keyword">exports</span>:&#123;&#125;&#125;;<span class="keyword">return</span> e[t](n,n.<span class="keyword">exports</span>,r),n.<span class="keyword">exports</span>&#125;r.n=e=&gt;&#123;<span class="keyword">var</span> o=e&amp;&amp;e.__esModule?()=&gt;e.<span class="keyword">default</span>:()=&gt;e;<span class="keyword">return</span> r.d(o,&#123;a:o&#125;),o&#125;,r.d=(e,o)=&gt;&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t in o)r.o(o,t)&amp;&amp;!r.o(e,t)&amp;&amp;Object.defineProperty(e,t,&#123;enumerable:!<span class="number">0</span>,get:o[t]&#125;)&#125;,r.o=(e,o)=&gt;Object.prototype.hasOwnProperty.call(e,o),(()=&gt;&#123;<span class="string">&quot;use strict&quot;</span>;r(<span class="number">62</span>),console.log(<span class="string">&quot;main.js&quot;</span>)&#125;)()&#125;)();</span><br></pre></td></tr></table></figure>



<p>但是这样造成就是资源重复很多，这时候如果使用：dependOn就可以共享资源了</p>
<p>webpack.config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;common&#x27;</span>: <span class="string">&#x27;./src/ common.js&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;index&#x27;</span>: &#123; <span class="attr">import</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="attr">dependOn</span>: <span class="string">&#x27;common&#x27;</span>&#125;,</span><br><span class="line">    <span class="string">&#x27;main&#x27;</span>: &#123; <span class="attr">import</span>: <span class="string">&#x27;./src/main.js&#x27;</span>,  <span class="attr">dependOn</span>: <span class="string">&#x27;common&#x27;</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中生成的 main 和 index chunk 就不会包含 common 模块了。</p>
<p>最后 <code>dependOn</code> 选项的也可以为字符串数组：</p>
<blockquote>
<p>ps： 不是很懂这个设置有什么用，等我之后再来研究研究  尴尬</p>
</blockquote>
<h3 id="字符串entry："><a href="#字符串entry：" class="headerlink" title="字符串entry："></a>字符串entry：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>等价于：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">  	<span class="attr">main</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组-entry"><a href="#数组-entry" class="headerlink" title="数组 entry"></a>数组 entry</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: [<span class="string">&#x27;./src/index.js&#x27;</span>, <span class="string">&#x27;./src/main.js&#x27;</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>等价于：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">  	<span class="attr">main</span>: [<span class="string">&#x27;./src/index.js&#x27;</span>, <span class="string">&#x27;./src/main.js&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="模式（mode）"><a href="#模式（mode）" class="headerlink" title="模式（mode）"></a>模式（mode）</h2><p>webpack 配置文件中 mode 配置选项是一个 string， 可能的值有：<strong>production</strong>，<strong>development</strong>，<strong>none</strong>。默认值是：<strong>production</strong>。</p>
<p>这个配置选项的主要作用是告诉 webpack 使用相应的内置的优化配置。</p>
<h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><p>可以直接在配置文件中配置该选项</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可以通过 cli 来传递</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack --mode=development</span><br></pre></td></tr></table></figure>

<h3 id="选项描述"><a href="#选项描述" class="headerlink" title="选项描述"></a>选项描述</h3><table>
<thead>
<tr>
<th align="left">选项</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>development</code></td>
<td align="left">会将 <code>DefinePlugin</code> 中 <code>process.env.NODE_ENV</code> 的值设置为 <code>development</code>。启用 <code>NamedChunksPlugin</code> 和 <code>NamedModulesPlugin</code></td>
</tr>
<tr>
<td align="left"><code>production</code></td>
<td align="left">会将 <code>DefinePlugin</code> 中 <code>process.env.NODE_ENV</code> 的值设置为 <code>production</code>。启用 <code>FlagDependencyUsagePlugin</code>, <code>FlagIncludedChunksPlugin</code>, <code>ModuleConcatenationPlugin</code>, <code>NoEmitOnErrorsPlugin</code>, <code>OccurrenceOrderPlugin</code>, <code>SideEffectsFlagPlugin</code> 和 <code>TerserPlugin</code>。</td>
</tr>
<tr>
<td align="left"><code>none</code></td>
<td align="left">没有任何默认优化选项</td>
</tr>
</tbody></table>
<p>如果没有设置， webpack 会将 mode 设置为  production</p>
<blockquote>
<p>注意：设置 mode 可以改变 process.env,NODE_ENV。但是反过来，设置 NODE_ENV 并不会自动设置webpack 的 mode 选项。这里的  process.env,NODE_ENV 不是 node 的环境变量，而是webpack.DefinePlugin中定义的全局变量，允许根据不同的环境执行不用的代码</p>
</blockquote>
<h4 id="development"><a href="#development" class="headerlink" title="development"></a>development</h4><p>设置 mode 为 development</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>就相当于如下的配置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&#x27;eval&#x27;</span>,</span><br><span class="line">  <span class="attr">cache</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">performance</span>: &#123;</span><br><span class="line">    <span class="attr">hints</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">pathinfo</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">namedModules</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">namedChunks</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">nodeEnv</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="attr">flagIncludedChunks</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">occurrenceOrder</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">sideEffects</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">usedExports</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">concatenateModules</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">hidePathInfo</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">minSize</span>: <span class="number">10000</span>,</span><br><span class="line">      <span class="attr">maxAsyncRequests</span>: <span class="literal">Infinity</span>,</span><br><span class="line">      <span class="attr">maxInitialRequests</span>: <span class="literal">Infinity</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">noEmitOnErrors</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">checkWasmTypes</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> webpack.NamedModulesPlugin(),</span><br><span class="line">    <span class="keyword">new</span> webpack.NamedChunksPlugin(),</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123; <span class="string">&quot;process.env.NODE_ENV&quot;</span>: <span class="built_in">JSON</span>.stringify(<span class="string">&quot;development&quot;</span>) &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="production"><a href="#production" class="headerlink" title="production"></a>production</h4><p>设置 mode 为 production</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">mode</span>:<span class="string">&quot;production&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其相当于设置如下配置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">performance</span>: &#123;</span><br><span class="line">    <span class="attr">hints</span>: <span class="string">&#x27;warning&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">pathinfo</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">namedModules</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">namedChunks</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">nodeEnv</span>: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line">    <span class="attr">flagIncludedChunks</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">occurrenceOrder</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">sideEffects</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">usedExports</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">concatenateModules</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">hidePathInfo</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">minSize</span>: <span class="number">30000</span>,</span><br><span class="line">      <span class="attr">maxAsyncRequests</span>: <span class="number">5</span>,</span><br><span class="line">      <span class="attr">maxInitialRequests</span>: <span class="number">3</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">noEmitOnErrors</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">checkWasmTypes</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> TerserPlugin(<span class="comment">/* ... */</span>),</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123; <span class="string">&quot;process.env.NODE_ENV&quot;</span>: <span class="built_in">JSON</span>.stringify(<span class="string">&quot;production&quot;</span>) &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.ModuleConcatenationPlugin(),</span><br><span class="line">    <span class="keyword">new</span> webpack.NoEmitOnErrorsPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="none"><a href="#none" class="headerlink" title="none"></a>none</h4><p>设置 mode 为 none</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">mode</span>:<span class="string">&quot;none&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其相当于设置如下配置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">performance</span>: &#123;</span><br><span class="line">   <span class="attr">hints</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">flagIncludedChunks</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">occurrenceOrder</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">sideEffects</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">usedExports</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">concatenateModules</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">hidePathInfo</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">minSize</span>: <span class="number">10000</span>,</span><br><span class="line">      <span class="attr">maxAsyncRequests</span>: <span class="literal">Infinity</span>,</span><br><span class="line">      <span class="attr">maxInitialRequests</span>: <span class="literal">Infinity</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">noEmitOnErrors</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">checkWasmTypes</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="输出（output）-1"><a href="#输出（output）-1" class="headerlink" title="输出（output）"></a>输出（output）</h3><p>output 是最顶级的键，包括了一组选项，目的是提示webpack 如何去输出，以及在哪里输出。它的配置项很多， 我们跟着教程一个一个的来看看这些配置到底是什么怎么使用的。</p>
<h4 id="library"><a href="#library" class="headerlink" title="library"></a>library</h4><h4 id="libraryTarget"><a href="#libraryTarget" class="headerlink" title="libraryTarget"></a>libraryTarget</h4><p>这两个配置项具体可以直接看这边文章 <a href="https://shuliqi.github.io/shuliqi.github.io/2021/02/03/webpack%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%9Alibrary%EF%BC%8ClibraryTarget%EF%BC%8CauxiliaryComment/">模块化与Webpack属性 library,libraryTarget的关联</a></p>
<h4 id="auxiliaryComment"><a href="#auxiliaryComment" class="headerlink" title="auxiliaryComment"></a>auxiliaryComment</h4><p>注意：这个配置项在webpack4版本以下生效， 以上版本不生效。</p>
<p>如果是webpack 3 的 可以具体看看 <a target="_blank" rel="noopener" href="https://webpack.docschina.org/configuration/output/#outputauxiliarycomment">output.auxiliaryComment</a></p>
<h4 id="filename"><a href="#filename" class="headerlink" title="filename"></a>filename</h4><h4 id="chunkFilename"><a href="#chunkFilename" class="headerlink" title="chunkFilename"></a>chunkFilename</h4><p>这两个配置项的使用 具体移步 <a href="https://shuliqi.github.io/shuliqi.github.io/2021/02/22/webpack%E4%B8%AD%E7%9A%84filename%E5%92%8CchunkFilename%E5%8F%8A%E5%85%B6%E5%8C%BA%E5%88%AB/">webpack中的filename和chunkFilename及其区别</a></p>
<h4 id="path"><a href="#path" class="headerlink" title="path"></a>path</h4><p><code>output.path</code>配置输出文件存放在本地的目录，必须是<code>string</code>类型的绝对路径。通常通过<code>Node.js</code>的<code>path</code>模块去获取绝对的路径。<a target="_blank" rel="noopener" href="http://nodejs.cn/api/path.html#path_path_relative_from_to">Node.js  path</a></p>
<p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入Node的path模块</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="attr">index</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&#x27;./dist&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面代码中的<code> path.resolve(path1, path2, ...)</code>方法的作用是：按照顺序依次拼接，获取绝对路径，路径末尾不会带有路径分隔符号， 若合并后的路径没有构成一绝对路径，则会默认使用当前工作目录的绝对路径。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入 Node 模块</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>); </span><br><span class="line"><span class="comment">// 拼接路径中没有带有绝对路径</span></span><br><span class="line"><span class="keyword">var</span> _path = path.resolve(<span class="string">&#x27;path3&#x27;</span>, <span class="string">&#x27;path4&#x27;</span>, <span class="string">&#x27;a/b/cc/&#x27;</span>); <span class="comment">// 没有末尾的路径分隔符\</span></span><br><span class="line"><span class="built_in">console</span>.log(_path)</span><br><span class="line"><span class="comment">// 结果为：/Users/shuliqi/study/webpack-demo/path3/path4/a/b/cc</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 拼接路径中带有绝对路径</span></span><br><span class="line"><span class="keyword">var</span> _path2 = path.resolve(<span class="string">&#x27;/Users/shuliqi/study/webpack-demo/&#x27;</span>, <span class="string">&#x27;path3&#x27;</span>, <span class="string">&#x27;path4&#x27;</span>, <span class="string">&#x27;a/b/cc/&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(_path2)</span><br><span class="line"><span class="comment">// 结果为：/Users/shuliqi/study/webpack-demo/path3/path4/a/b/cc</span></span><br></pre></td></tr></table></figure>

<p>而 <code>__dirname</code>在 <code>Node.js</code>中总是指向被执行的<code>js</code>文件的绝对路径。如： 当你在<code>：/Users/shuliqi/study/webpack-demo/src/index.js</code>文件中写了<code>__dirname</code>，那么它的值就是<code>/Users/shuliqi/study/webpack-demo/src/</code></p>
<h4 id="publicPath"><a href="#publicPath" class="headerlink" title="publicPath"></a>publicPath</h4><ul>
<li>默认值： 空字符串</li>
</ul>
<p>在复杂的项目中可能会有一些构建出的资源需要异步加载，加载这些异步资源需要对应的<code>url</code>地址。<code>output。publicPath</code>配置就是发布到线上资源的<code>url</code>前缀，是<code>string</code>类型，默认是空字符串，即相对路径。</p>
<p>举个例子🌰：</p>
<p>我们需要把构建出的资源上传到<code>CDN</code>服务上，以便于加快页面的打开速度，配置的代码假设如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入Node的path模块</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="attr">index</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">&#x27;./dist&#x27;</span>),</span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&#x27;https://shuliqi.github.io/public/js/&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这时发布到线上的<code>HTML</code>在引入<code>Javascript</code>文件时就需要：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#x27;https://shuliqi.github.io/public/js/jkashdjashd.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>





































<!-- flag of hidden posts --></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">舒小琦</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://shuliqi.github.io/2020/05/15/webpack学习-概念以及配置项/">https://shuliqi.github.io/2020/05/15/webpack学习-概念以及配置项/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://shuliqi.github.io">舒小琦的Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/webpack%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">webpack学习笔记</a></div><nav id="pagination"></nav></div></div><footer class="footer-bg" style="background-image: url(/webp.webp)"><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2022 By 舒小琦</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>