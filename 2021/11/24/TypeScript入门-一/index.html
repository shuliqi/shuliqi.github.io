<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="TypeScript 基础学习"><meta name="keywords" content="JavaScript"><meta name="author" content="舒小琦"><meta name="copyright" content="舒小琦"><title>TypeScript 基础学习 | 舒小琦的Blog</title><link rel="shortcut icon" href="http://p6.qhimg.com/t01f5a5270b7946b505.jpg"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.</span> <span class="toc-text">TypeScript 是什么</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-number">2.</span> <span class="toc-text">TypeScript的优点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-number">3.</span> <span class="toc-text">TypeScript的缺点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">4.</span> <span class="toc-text">TypeScript的安装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript-%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="toc-number">5.</span> <span class="toc-text">TypeScript 的例子</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript-%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.</span> <span class="toc-text">TypeScript 类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E5%80%BC%EF%BC%88boolean%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">布尔值（boolean）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%EF%BC%88number%EF%BC%89"><span class="toc-number">6.2.</span> <span class="toc-text">数值（number）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88string%EF%BC%89"><span class="toc-number">6.3.</span> <span class="toc-text">字符串（string）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC-void"><span class="toc-number">6.4.</span> <span class="toc-text">空值    (void)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null-%E5%92%8C-undefined"><span class="toc-number">6.5.</span> <span class="toc-text">null 和 undefined</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E5%80%BC%EF%BC%88any%EF%BC%89"><span class="toc-number">6.6.</span> <span class="toc-text">任意值（any）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BB%BB%E6%84%8F%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.6.1.</span> <span class="toc-text">什么是任意值类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E5%80%BC%E7%9A%84%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">6.6.2.</span> <span class="toc-text">任意值的属性和方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AA%E5%A3%B0%E6%98%8E%E7%9A%84%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">6.6.3.</span> <span class="toc-text">未声明的类型的变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%EF%BC%88Enum%EF%BC%89"><span class="toc-number">6.7.</span> <span class="toc-text">枚举（Enum）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%EF%BC%88array%EF%BC%89"><span class="toc-number">6.8.</span> <span class="toc-text">数组类型（array）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E7%B1%BB%E5%9E%8B%EF%BC%88tuple%EF%BC%89"><span class="toc-number">6.9.</span> <span class="toc-text">元组类型（tuple）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unknown-%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.10.</span> <span class="toc-text">unknown 类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#never-%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.11.</span> <span class="toc-text">never 类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bigInt"><span class="toc-number">6.12.</span> <span class="toc-text">bigInt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#object-Object-%E5%92%8C-%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.13.</span> <span class="toc-text">object,Object 和 {} 类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%8E%A8%E8%AE%BA"><span class="toc-number">6.14.</span> <span class="toc-text">类型推论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.15.</span> <span class="toc-text">联合类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="toc-number">6.16.</span> <span class="toc-text">类型断言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.17.</span> <span class="toc-text">字面量类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="toc-number">6.18.</span> <span class="toc-text">类型别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.19.</span> <span class="toc-text">交叉类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E4%BF%9D%E6%8A%A4"><span class="toc-number">6.20.</span> <span class="toc-text">类型保护</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript-%E5%87%BD%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">TypeScript 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">7.1.</span> <span class="toc-text">函数的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">7.2.</span> <span class="toc-text">函数表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E5%8F%82%E6%95%B0"><span class="toc-number">7.3.</span> <span class="toc-text">可选参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-number">7.4.</span> <span class="toc-text">默认参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0"><span class="toc-number">7.5.</span> <span class="toc-text">剩余参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="toc-number">7.6.</span> <span class="toc-text">函数重载</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript-%E7%B1%BB"><span class="toc-number">8.</span> <span class="toc-text">TypeScript 类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.1.</span> <span class="toc-text">类的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%8F%96%E5%99%A8"><span class="toc-number">8.2.</span> <span class="toc-text">存取器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#readonly"><span class="toc-number">8.3.</span> <span class="toc-text">readonly</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">8.4.</span> <span class="toc-text">类修饰符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">8.5.</span> <span class="toc-text">抽象类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript-%E6%8E%A5%E5%8F%A3"><span class="toc-number">9.</span> <span class="toc-text">TypeScript 接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89"><span class="toc-number">9.1.</span> <span class="toc-text">接口定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%BD%A2%E7%8A%B6"><span class="toc-number">9.2.</span> <span class="toc-text">对象形状</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E5%B1%9E%E6%80%A7"><span class="toc-number">9.3.</span> <span class="toc-text">可选属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E5%B1%9E%E6%80%A7"><span class="toc-number">9.4.</span> <span class="toc-text">任意属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">9.5.</span> <span class="toc-text">只读属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-implements-%E6%8E%A5%E5%8F%A3"><span class="toc-number">9.6.</span> <span class="toc-text">实现(implements)接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3-extends-%E7%BB%A7%E6%89%BF"><span class="toc-number">9.7.</span> <span class="toc-text">接口(extends)继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">9.8.</span> <span class="toc-text">函数类型接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">9.9.</span> <span class="toc-text">构造函数的类型接口</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript-%E6%B3%9B%E5%9E%8B"><span class="toc-number">10.</span> <span class="toc-text">TypeScript 泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90%EF%BC%9A"><span class="toc-number">10.1.</span> <span class="toc-text">简单例子：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><span class="toc-number">10.2.</span> <span class="toc-text">多个类型参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="toc-number">10.3.</span> <span class="toc-text">泛型约束</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">10.4.</span> <span class="toc-text">泛型接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="toc-number">10.5.</span> <span class="toc-text">泛型类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E5%8F%82%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E7%B1%BB%E5%9E%8B"><span class="toc-number">10.6.</span> <span class="toc-text">泛型参数的默认类型</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://p6.qhimg.com/t01f5a5270b7946b505.jpg"></div><div class="author-info__name text-center">舒小琦</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">55</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">12</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">13</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/webp.webp)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">舒小琦的Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/about">关于</a><a class="site-page" href="/shuliqi-design">UI组件</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">TypeScript 基础学习</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-11-24</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/JavaScript/">JavaScript</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>最近做的项目用到了<code>TypeScript</code> ，之前也看过一些，但是没有看完。所以既然项目用到了，觉得还是有必要过一遍，趁着最近正好有点时间可以再看看，把之前没学习完也正好补上。本文就当是一个学习的记录，方便供后期翻阅。</p>
<blockquote>
<p>TypeScript <a target="_blank" rel="noopener" href="http://www.typescriptlang.org/docs/handbook/basic-types.html">官方文档</a>, <a target="_blank" rel="noopener" href="https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook">非官方中文文档</a></p>
</blockquote>
<span id="more"></span>

<h1 id="TypeScript-是什么"><a href="#TypeScript-是什么" class="headerlink" title="TypeScript 是什么"></a>TypeScript 是什么</h1><p>TypeScript官网是这么解释的：</p>
<blockquote>
<p>TypeScript is a typed superset of JavaScript that compiles to plain JavaScript. Any browser. Any host. Any OS. Open source.</p>
</blockquote>
<p>翻译过来就是：</p>
<blockquote>
<p>TypeScript 是 JavaScript 的类型的一个超集，它可以编译成纯<code>JavaScript</code>。编译出来的<code>JavaScrip</code>t可以运行在任何的浏览器上。<code>TypeScript</code>编译的工具可以运行在任何服务器和任何系统上。<code>TypeScript</code>是开源 的。</p>
</blockquote>
<p>而我自己的理解是：</p>
<p><code>TypeScript</code>是 <code>JavaScript</code>的一个超集。主要提供了<strong>类型系统</strong>和对<strong>es6</strong>的支持。</p>
<h1 id="TypeScript的优点"><a href="#TypeScript的优点" class="headerlink" title="TypeScript的优点"></a>TypeScript的优点</h1><p><a target="_blank" rel="noopener" href="http://www.typescriptlang.org/">TypeScript 官网</a>列举了TypeScript的很多优点。 自己总结的话， 我觉得有以下优点：</p>
<p><strong>增加代码的可读性和可维护性</strong></p>
<ul>
<li>在编译的过程中发现大部分的bug的错误。</li>
<li>增强了编辑器和<code> IDE</code> 的功能，包括代码补全、接口提示、跳转到定义、重构等。</li>
<li>类型系统非常好。大部分看类型的定义就知道函数该如何使用了。</li>
</ul>
<p><strong>非常包容</strong></p>
<ul>
<li><code>TypeScript</code>是<code>JavaScript</code>的一个超集。所以后缀<code>.js</code>可以直接改名为<code>.ts</code>。</li>
<li><code>TypeScript</code>编译报错， 也可以生成JavaScript文件。</li>
</ul>
<h1 id="TypeScript的缺点"><a href="#TypeScript的缺点" class="headerlink" title="TypeScript的缺点"></a>TypeScript的缺点</h1><ul>
<li><p>有一定的学习成本，需要理解接口（<code>Interfaces</code>）、泛型（<code>Generics</code>）、类（Classes）、枚举类型（<code>Enums</code>）等前端工程师可能不是很熟悉的概念。</p>
</li>
<li><p>短期可能会增加一些开发成本，毕竟要多写一些类型的定义，不过对于一个需要长期维护的项目，<code>TypeScript </code>能够减少其维护成本。</p>
</li>
<li><p>集成到构建流程需要一些工作量。</p>
</li>
<li><p>可能和一些库结合的不是很完美。</p>
</li>
</ul>
<h1 id="TypeScript的安装"><a href="#TypeScript的安装" class="headerlink" title="TypeScript的安装"></a>TypeScript的安装</h1><p><code>TypeScript</code> 的命令行工具安装方法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure>

<h1 id="TypeScript-的例子"><a href="#TypeScript-的例子" class="headerlink" title="TypeScript 的例子"></a>TypeScript 的例子</h1><p>我们创建一个文件：<code>hello.ts</code></p>
<p>在该文件中写入：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helloWorld</span>(<span class="params">person: string</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="string">&#x27;shuliqi&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(helloWorld(user));</span><br></pre></td></tr></table></figure>

<p>然后我们进行编辑，可以执行以下命令：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc hello.ts</span><br></pre></td></tr></table></figure>

<p>执行完，会生成一个编译好的文件：hello.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helloWorld</span>(<span class="params">person</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> user = <span class="string">&#x27;shuliqi&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(helloWorld(user));</span><br></pre></td></tr></table></figure>

<p>注：<code>TypeScript</code>中使用 <strong>：</strong>指定变量的类型。 <strong>：</strong>前后有没有空格都无所谓。</p>
<p>上面的例子中，我们的变量 <code>person </code>的类型是 string。 但是在编译之后的js 中， 并没有检查变量类型的代码插入进来。</p>
<p><strong>TypeScript只会静态检查，如果有错误。在编译的时候会抛出错误</strong></p>
<p>例如：我们在hello.ts中的user变量赋值一个数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helloWorld</span>(<span class="params">person: string</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(helloWorld(user));</span><br></pre></td></tr></table></figure>

<p>编译的时候就会报错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hello.ts:<span class="number">6</span>:<span class="number">24</span> - error TS2345: Argument <span class="keyword">of</span> type <span class="string">&#x27;number[]&#x27;</span> is not assignable to parameter <span class="keyword">of</span> type <span class="string">&#x27;string&#x27;</span>.</span><br><span class="line"></span><br><span class="line"><span class="number">6</span> <span class="built_in">console</span>.log(helloWorld(user));</span><br><span class="line">                         ~~~~</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Found <span class="number">1</span> error.</span><br></pre></td></tr></table></figure>

<p><strong>TypeScript在编译的时候检查出错误，抛出错误，但还是会生成js文件</strong>。</p>
<p>如上的例子，还是会生成**.js**文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">helloWorld</span>(<span class="params">person</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> user = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(helloWorld(user));</span><br></pre></td></tr></table></figure>

<h1 id="TypeScript-类型"><a href="#TypeScript-类型" class="headerlink" title="TypeScript 类型"></a>TypeScript 类型</h1><blockquote>
<p>TypeScript支持与Javascript几乎相同的数据类型。</p>
<p>Javascript分为原始数据类型（布尔值，数值，字符串，null, undefined）和对象类型。</p>
</blockquote>
<h2 id="布尔值（boolean）"><a href="#布尔值（boolean）" class="headerlink" title="布尔值（boolean）"></a>布尔值（boolean）</h2><p>在typeScript中使用<code>boolean</code>定义布尔值类型：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isOk:boolean = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译通过</span></span><br><span class="line"><span class="comment">// 后面约定，未强调编译错误的代码片段，默认为编译通过</span></span><br></pre></td></tr></table></figure>



<p>注意：只有构造函数 <code>Boolean</code>创建的对象不是布尔值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isOk:boolean = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>编译的时候报错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hello.ts:<span class="number">10</span>:<span class="number">5</span> - error TS2322: Type <span class="string">&#x27;Boolean&#x27;</span> is not assignable to type <span class="string">&#x27;boolean&#x27;</span>.</span><br><span class="line">  <span class="string">&#x27;boolean&#x27;</span> is a primitive, but <span class="string">&#x27;Boolean&#x27;</span> is a wrapper object. Prefer using <span class="string">&#x27;boolean&#x27;</span> when possible.</span><br><span class="line"></span><br><span class="line"><span class="number">10</span> <span class="keyword">let</span> isOk : boolean = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>原因：new Boolean()返回的是一个 <code>Boolean</code> 对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isOk:<span class="built_in">Boolean</span> = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>编译不会报错</p>
<p>其次直接调用 <code>Boolean</code>也是返回布尔值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isOk:boolean = <span class="built_in">Boolean</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h2 id="数值（number）"><a href="#数值（number）" class="headerlink" title="数值（number）"></a>数值（number）</h2><p>在TypeScript中使用<code>number</code>定义数值类型。</p>
<p><code>TypeScript</code>和<code>Javascript</code>一样，所有的数字都是浮点数。类型都<code>number</code>。<code>TypeScript</code>除了支持十进制和十六进制字面量外，还支持<a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/#docs/number">ES6的八进制和二进制的字面量</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> decLiteral: number = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">let</span> hexLiteral: number = <span class="number">0xf00d</span>;</span><br><span class="line"><span class="comment">// ES6 中的二进制表示法</span></span><br><span class="line"><span class="keyword">let</span> binaryLiteral: number = <span class="number">0b1010</span>;</span><br><span class="line"><span class="comment">// ES6 中的八进制表示法</span></span><br><span class="line"><span class="keyword">let</span> octalLiteral: number = <span class="number">0o744</span>;</span><br><span class="line"><span class="keyword">let</span> notANumber: number = <span class="literal">NaN</span>;</span><br><span class="line"><span class="keyword">let</span> infinityNumber: number = <span class="literal">Infinity</span>;</span><br></pre></td></tr></table></figure>

<p>编辑的结果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> decLiteral = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">var</span> hexLiteral = <span class="number">0xf00d</span>;</span><br><span class="line"><span class="comment">// ES6 中的二进制表示法</span></span><br><span class="line"><span class="keyword">var</span> binaryLiteral = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// ES6 中的八进制表示法</span></span><br><span class="line"><span class="keyword">var</span> octalLiteral = <span class="number">484</span>;</span><br><span class="line"><span class="keyword">var</span> notANumber = <span class="literal">NaN</span>;</span><br><span class="line"><span class="keyword">var</span> infinityNumber = <span class="literal">Infinity</span>;</span><br></pre></td></tr></table></figure>

<p>其中 <code>0b1010</code> 和 <code>0o744</code> 是 <a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/#docs/number#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E5%85%AB%E8%BF%9B%E5%88%B6%E8%A1%A8%E7%A4%BA%E6%B3%95">ES6 中的二进制和八进制表示法</a>，它们会被编译为十进制数字。</p>
<h2 id="字符串（string）"><a href="#字符串（string）" class="headerlink" title="字符串（string）"></a>字符串（string）</h2><p>用<code>string</code>表示文本数据类型。 和<code>JavaScript</code>一样，可以使用双引号（<code>&quot;</code>），单引号（<code>’</code>）或 <code>模版字符串</code> 表示字符串：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 双引号</span></span><br><span class="line"><span class="keyword">let</span> firstName:string = <span class="string">&quot;shu&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 单引号</span></span><br><span class="line"><span class="keyword">let</span> lastName:string = <span class="string">&quot;liqi&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模版字符串</span></span><br><span class="line"><span class="keyword">let</span> name:string = <span class="string">`my name is <span class="subst">$&#123;firstName&#125;</span><span class="subst">$&#123;lastName&#125;</span>`</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name) <span class="comment">// my name is shu liqi</span></span><br></pre></td></tr></table></figure>

<h2 id="空值-void"><a href="#空值-void" class="headerlink" title="空值    (void)"></a>空值    (void)</h2><p><code>JavaScript</code>中时没有空值的概念。但在<code>TypeScript</code> 中可以使用<code>void</code> 表示没有任何返回值的函数。</p>
<p>注意：定义一个空值的变量是没有用的。因为只能赋值 null 或者 undefined。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>):<span class="title">void</span> </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;my name is shuliqi&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name:<span class="keyword">void</span> = <span class="literal">null</span></span><br></pre></td></tr></table></figure>

<h2 id="null-和-undefined"><a href="#null-和-undefined" class="headerlink" title="null 和 undefined"></a>null 和 undefined</h2><p>可以使用 <code>Null</code> 和 <code>Undefined</code> 来定义这两个原始类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myName:<span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> age:<span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>

<p>注意：null 和 undefined 是所有类型的子集。也就是说 null ，undefined 可以赋值给其他类型：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myName: string = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> age: number = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myName: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> age: <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> myLastName: number = myName;</span><br><span class="line"><span class="keyword">let</span> myAge = age;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 都不会报错</span></span><br></pre></td></tr></table></figure>

<p>但是 <code>void</code> 类型的变量不能赋值给 其他 类型的变量：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myAge:<span class="keyword">void</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> myGender:<span class="keyword">void</span> = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> age: number = myAge;</span><br><span class="line"><span class="keyword">let</span> gender: string = myGender;</span><br></pre></td></tr></table></figure>

<p>编译报错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hello.ts:<span class="number">52</span>:<span class="number">5</span> - error TS2322: Type <span class="string">&#x27;void&#x27;</span> is not assignable to type <span class="string">&#x27;number&#x27;</span>.</span><br><span class="line"><span class="number">52</span> <span class="keyword">let</span> age: number = myAge;</span><br><span class="line">hello.ts:<span class="number">53</span>:<span class="number">5</span> - error TS2322: Type <span class="string">&#x27;void&#x27;</span> is not assignable to type <span class="string">&#x27;string&#x27;</span>.</span><br><span class="line"><span class="number">53</span> <span class="keyword">let</span> gender: string = myGender;</span><br></pre></td></tr></table></figure>

<h2 id="任意值（any）"><a href="#任意值（any）" class="headerlink" title="任意值（any）"></a>任意值（any）</h2><p>任意值（any）用来表示允许赋值为任何类型。</p>
<h3 id="什么是任意值类型"><a href="#什么是任意值类型" class="headerlink" title="什么是任意值类型"></a>什么是任意值类型</h3><p>在TypeScript中普通的类型，如果在赋值的过程中改变类型是不允许的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age: string = <span class="string">&#x27;12&#x27;</span>;</span><br><span class="line">age = <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<p>编译时报错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello.ts:<span class="number">62</span>:<span class="number">1</span> - error TS2322: Type <span class="string">&#x27;5&#x27;</span> is not assignable to type <span class="string">&#x27;string&#x27;</span>.</span><br><span class="line"></span><br><span class="line"><span class="number">62</span> age = <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<p>但是类型是任意值类型的话。就允许在赋值的过程中改变类型：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let age: any = &#x27;12&#x27;;</span><br><span class="line">age = 5</span><br></pre></td></tr></table></figure>

<h3 id="任意值的属性和方法"><a href="#任意值的属性和方法" class="headerlink" title="任意值的属性和方法"></a>任意值的属性和方法</h3><p>访问任意值的属性和方法都是允许的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anyName: any = <span class="string">&quot;shuliqi&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(anyName.firstName);</span><br><span class="line">anyName.setName(<span class="string">&#x27;shulina&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>可以认为，声明一个变量为任意值之后，对它的任何操作，返回的内容的类型都是任意值。</p>
<h3 id="未声明的类型的变量"><a href="#未声明的类型的变量" class="headerlink" title="未声明的类型的变量"></a>未声明的类型的变量</h3><p>如果在声明变量的时候，没有制指定类型。那么会被识别为任意值类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myName;</span><br><span class="line">myName = <span class="string">&#x27;shuliqi&#x27;</span>;</span><br><span class="line">myName = <span class="number">12</span>;</span><br><span class="line">myName = <span class="built_in">Boolean</span>(<span class="number">1</span>);</span><br><span class="line">myName = <span class="literal">null</span>; </span><br><span class="line">myName = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>

<h2 id="枚举（Enum）"><a href="#枚举（Enum）" class="headerlink" title="枚举（Enum）"></a>枚举（Enum）</h2><p>在我们的实际应用中， 有的变量只有几种可能取值， 如人的性别就只有两种可能取值，星期就只有七种可能取值。所谓的枚举就是将变量的值一一列举出来，变量只限于列举出来的范围内取值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enum weekday &#123;	sun,mon,tue,wed,thu,fri,sat&#125;</span><br></pre></td></tr></table></figure>

<p>如上， 我们定义了一个枚举类型 <code>weekday</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> day: weekday = weekday.mon;</span><br></pre></td></tr></table></figure>

<p>如上， 定义了一个枚举类型变量<code>day</code>。<code>sun</code>, <code>mon</code>… 我们称为枚举元素或者枚举常量。</p>
<p>关于枚举常量，有以下几点说明：</p>
<ul>
<li>枚举常量不是变量，而是常量，所以是不能对枚举元素进行赋值操作的。</li>
<li>枚举常量作为常量，它们是有值的，值为 1,2,3,….</li>
</ul>
<p>所以说，<code>sun</code> 的值为 0，<code>mon</code> 的值为 1，…<code>sat </code>的值为 6。</p>
<h2 id="数组类型（array）"><a href="#数组类型（array）" class="headerlink" title="数组类型（array）"></a>数组类型（array）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const arr1: string[] = [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;]; </span><br><span class="line">// 或</span><br><span class="line">const arr2: Array&lt;string&gt; = [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;];</span><br><span class="line"></span><br><span class="line">const arr3: number[] = [1,2,3];</span><br><span class="line">const arr4: any[] = [&#x27;shu&#x27;, 3, &#123;name: &#x27;shuliqi&#x27;&#125;]</span><br></pre></td></tr></table></figure>

<h2 id="元组类型（tuple）"><a href="#元组类型（tuple）" class="headerlink" title="元组类型（tuple）"></a>元组类型（tuple）</h2><p>在<code>TypeScript</code>中，元组类型表示一个已知数量和类型的数组， 其实可以理解为是一种也特殊的数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tupleArr:[number, string, boolean] = [<span class="number">1</span> ,<span class="string">&#x27;2&#x27;</span>, <span class="literal">true</span>]</span><br></pre></td></tr></table></figure>

<h2 id="unknown-类型"><a href="#unknown-类型" class="headerlink" title="unknown 类型"></a>unknown 类型</h2><p><code>unknown</code> 指的是不可预先定义的类型，在很多的场景下可以替代<code>any</code>的功能并且同时保持静态检查的能力。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myName: unknown = <span class="string">&#x27;shuliqi, shulina&#x27;</span>;</span><br><span class="line">myName.join(<span class="string">&#x27;,&#x27;</span>); <span class="comment">//  Error: 静态检查不通过报错</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myAge: any = <span class="string">&#x27;12, 24&#x27;</span>;</span><br><span class="line">myAge.join(<span class="string">&#x27;&#x27;</span>); <span class="comment">// Pass: any类型相当于放弃了静态检查</span></span><br></pre></td></tr></table></figure>

<h2 id="never-类型"><a href="#never-类型" class="headerlink" title="never 类型"></a>never 类型</h2><p><code>never</code>类型表示那些永远不存在的值的类型。 如<code>nerve</code>类型是那些总是会抛出异常或根本就不会有返回值的函数表达式或者箭头函数表达式的返回值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throwFun</span>(<span class="params"></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="comment">// return true; // error</span></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;我是一个抛出异常的函数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throwFun</span>(<span class="params"></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;我是一个抛出异常的函数&quot;</span>); <span class="comment">// PASS</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> throwFuncton = ():<span class="function"><span class="params">never</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;123&quot;</span>); <span class="comment">// error</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> throwFuncton = ():<span class="function"><span class="params">never</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;我是一个抛出异常的箭头函数函数&quot;</span>); <span class="comment">// pass</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>never</code> 与 <code>void</code>的区别：<code>void</code>是可以被赋值为<code>null </code>和<code> undefined</code> 类型。<code> never</code> 则是一个不包含值得类型。 拥有<code>void</code>返回值类型的函数能够正常运行。 拥有 <code>never </code>返回值的类型的函数无法正常运行，无法终止， 或会抛出异常</p>
</blockquote>
<h2 id="bigInt"><a href="#bigInt" class="headerlink" title="bigInt"></a>bigInt</h2><p>因为 <code>JavaScript</code>的所有数字成 64 位浮点数， 这就会给数字的表示带来了两个比较大的限制；第一个限制：数值的精度只能给到53个二进制位（相当与16 个十进制位）， 大于这个范围的数，<code>JavaScript</code> 是无法精确表示的，这使得<code>JavaScript</code>不适合科学和金融方面的精确计算，第二个限制：大于或者等于 2 的1024次方的数值，<code>JavaScript</code>是无法表示，会返回 <code>Infinity</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 超过53个二进制的数值，无法保持精度</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>) === <span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>) + <span class="number">1</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 超过或等于 2 的 1.24次方的数值，无法表示</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">1024</span>)); <span class="comment">// Infinity</span></span><br></pre></td></tr></table></figure>

<p>于是为了解决该问题，<code>ES2020</code>引入了一种新的数据类型 <code>BigInt </code>（大整数）来解决这个问题。<code>BigInt</code>只用来表示整数，没有位数的限制，任何位数的整数都可以精确表示。为了区别 与<code>Number</code> 类型的区别，<code>BigInt</code> 类型的数据必须添加后缀n</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 普通整数</span></span><br><span class="line"><span class="keyword">const</span> number =  <span class="number">123</span>; </span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> number); <span class="comment">// number</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 大整数</span></span><br><span class="line"><span class="keyword">const</span> big = <span class="number">1231243141n</span> </span><br><span class="line"><span class="keyword">const</span> big2 =  <span class="built_in">BigInt</span>(<span class="number">12312</span>); </span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> big, <span class="keyword">typeof</span> big2); <span class="comment">// bigint bigint</span></span><br></pre></td></tr></table></figure>

<p>在 <code>TypeScript</code> 中也是有 <code>BigInt</code>类型的。我们可以如下表示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bigNum: bigint = <span class="number">123123n</span>;</span><br></pre></td></tr></table></figure>

<h2 id="object-Object-和-类型"><a href="#object-Object-和-类型" class="headerlink" title="object,Object 和 {} 类型"></a>object,Object 和 {} 类型</h2><p><code>object</code> 类型用来表示非o原始数据类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> objCase: object;</span><br><span class="line"> objCase = <span class="string">&#x27;string&#x27;</span> <span class="comment">//  error</span></span><br><span class="line"> objCase = <span class="number">1123</span> <span class="comment">//  error</span></span><br><span class="line"> objCase = <span class="literal">true</span> <span class="comment">//  error</span></span><br><span class="line"> objCase = <span class="literal">null</span> <span class="comment">//  error</span></span><br><span class="line"> objCase = <span class="literal">undefined</span> <span class="comment">//  error</span></span><br><span class="line"> objCase = &#123;&#125; <span class="comment">//  ok</span></span><br></pre></td></tr></table></figure>

<p><code>Object</code>表示所有拥有 <code>toString</code> 和 <code>hasOwnProperty</code>方法的类型。所有的原始类型，非原始类型都可以赋给 <code>Object</code>（严格模式下 <code>nul</code>l 和 <code>undefined </code>不行 ）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> objCase: <span class="built_in">Object</span>;</span><br><span class="line"> objCase = <span class="string">&#x27;string&#x27;</span> <span class="comment">//  ok</span></span><br><span class="line"> objCase = <span class="number">1123</span> <span class="comment">//  ok</span></span><br><span class="line"> objCase = <span class="literal">true</span> <span class="comment">//  ok</span></span><br><span class="line"> <span class="comment">// 非严格模式</span></span><br><span class="line"> objCase = <span class="literal">null</span> <span class="comment">//  ok</span></span><br><span class="line"> objCase = <span class="literal">undefined</span> <span class="comment">//  ok</span></span><br><span class="line"></span><br><span class="line"> objCase = &#123;&#125; <span class="comment">//  ok</span></span><br></pre></td></tr></table></figure>

<p> <code>&#123;&#125;</code>对象和 <code>Object</code>类型一样， 都是表示原始类型和非原始类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> objCase: &#123;&#125;;</span><br><span class="line"> objCase = <span class="string">&#x27;string&#x27;</span> <span class="comment">//  ok</span></span><br><span class="line"> objCase = <span class="number">1123</span> <span class="comment">//  ok</span></span><br><span class="line"> objCase = <span class="literal">true</span> <span class="comment">//  ok</span></span><br><span class="line"> objCase = <span class="literal">null</span> <span class="comment">//  ok</span></span><br><span class="line"> objCase = <span class="literal">undefined</span> <span class="comment">//  ok</span></span><br><span class="line"> objCase = &#123;&#125; <span class="comment">//  ok</span></span><br></pre></td></tr></table></figure>

<h2 id="类型推论"><a href="#类型推论" class="headerlink" title="类型推论"></a>类型推论</h2><p>如果在定义一个变量的时候。没有明确的指定类型。那么在TypeScript就会按照<strong>类型推论</strong>规则来推断出一个类型。</p>
<p><strong>什么是类型推论</strong></p>
<p>如以下的代码虽然没有指定类型，但是在编译时会出错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">34</span>;</span><br><span class="line">age = <span class="string">&quot;shuliqi&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译报错：</span></span><br><span class="line">Type <span class="string">&#x27;&quot;shuliqi&quot;&#x27;</span> is not assignable to type <span class="string">&#x27;number&#x27;</span>.</span><br></pre></td></tr></table></figure>

<p>其实上面的代码等价于这段代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age: number = <span class="number">34</span>;</span><br><span class="line">age = <span class="string">&quot;shuliqi&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译报错：</span></span><br><span class="line">Type <span class="string">&#x27;&quot;shuliqi&quot;&#x27;</span> is not assignable to type <span class="string">&#x27;number&#x27;</span>.</span><br></pre></td></tr></table></figure>

<p>原因：<code>TypeScript</code>会在没有明确定义变量的类型的时候推测出一个类型。这就是<strong>类型推论</strong></p>
<p>注意：在定义的时候没有赋值。不管之后有没有赋值，都会被推断为<code>any</code>类型。而不做类型检查。sss</p>
<h2 id="联合类型"><a href="#联合类型" class="headerlink" title="联合类型"></a>联合类型</h2><p>联合类型表示取值可以为多种类型中的一种。</p>
<p>联合类型 用 <code>|</code>分隔每个类型：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> haha: string | number;</span><br><span class="line">haha = <span class="string">&#x27;shuliqi&#x27;</span>;</span><br><span class="line">haha = <span class="number">12</span>;</span><br></pre></td></tr></table></figure>

<p>以上例子表示：haha这个变量类型可以是<code>string</code> , <code>number</code>     但是不能是其他的类型。</p>
<h2 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h2><p>有时候我们会遇到这种情况，我们会比<code>TypeScript</code>更了解某个值的详细信息，通常这种情况会发生在我们清楚地知道一个实体具有比它现在类型更加确切的类型。其实这时候我们需要手动告诉<code>TypeScript</code>就按照我们自己断言的类型通过编译（这很关键， 有时间会帮助我们解决很多的编译报错）</p>
<p>类型断言都两种形式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someValue: any  = <span class="string">&quot;我是字符串&quot;</span>;</span><br><span class="line"><span class="comment">// as 语法</span></span><br><span class="line"><span class="comment">//  当前我们更加确切的知道 someValue 的类型是 string</span></span><br><span class="line"><span class="keyword">const</span> len: number = (someValue <span class="keyword">as</span> string).length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> someNum: any = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="comment">// 尖括号 语法</span></span><br><span class="line"><span class="comment">//  当前我们更加确切的知道 someNum 的类型是 数组</span></span><br><span class="line"><span class="keyword">const</span> myLen: number = (<span class="xml">&lt;number[]&gt;someNum).length;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意： 以上这两种做法没有任何的区别，但是尖括号会与 <code>React</code>语法的<code>JSX</code>语法产生语法冲突，所以更加推荐使用 <code>as</code>语法。</p>
</blockquote>
<h2 id="字面量类型"><a href="#字面量类型" class="headerlink" title="字面量类型"></a>字面量类型</h2><p>在<code>TypeScript</code>中，字面量不仅可以表示类型， 也可以表示类型， 即所谓的字面量类型，目前 <code>TypeScript</code> 包含了三种字面量类型：字符串字面量类型，布尔值字面量类型，数字字面量类型， 对应的字符串字面量，布尔值字面量，数字字面量分别拥有与其值一样的字面量类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  字符串字面量类型</span></span><br><span class="line"><span class="keyword">const</span> str: <span class="string">&#x27;string&#x27;</span> = <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数字字面量类型</span></span><br><span class="line"><span class="keyword">const</span> num: <span class="number">12</span> = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  布尔值字面量类型</span></span><br><span class="line"><span class="keyword">const</span> isOk: <span class="literal">true</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="类型别名"><a href="#类型别名" class="headerlink" title="类型别名"></a>类型别名</h2><p>类型别名就是给类型起个新名字, <code>TypeScript</code>中使用<code>type</code>来给类型起新名字</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  给类型起新的名字</span></span><br><span class="line">type  myType = string |  number;</span><br><span class="line"><span class="keyword">const</span> name:myType = <span class="string">&quot;shuliqi&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="交叉类型"><a href="#交叉类型" class="headerlink" title="交叉类型"></a>交叉类型</h2><p>交叉类型就是将多个类型合并成一个类型， 通过 &amp; 运算符将现有的多种类型叠加到一起成为一种新的类型，该新类型包含了所有类型的特性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">type  myType1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: string</span><br><span class="line">&#125;</span><br><span class="line">type  myType2 = &#123;</span><br><span class="line">  <span class="attr">age</span>: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user: myType1 &amp; myType2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;shuliqi&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">12</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类型保护"><a href="#类型保护" class="headerlink" title="类型保护"></a>类型保护</h2><p><code>TypeScript</code> 熟知 <code>JavaScript</code> 中 <code>instanceof</code> 和 <code>typeof</code>运算符的用法。如果在一个条件块中上使用这些，<code>TypeScript</code>将会推导出在条件块中的变量类型。<code>TypeScript</code> 甚至能够理解 <code>else</code>。当你使用 <code>if</code> 来缩小类型时，TypeScript 知道在其他块中的类型并不是 <code>if</code> 中的类型。</p>
<p><strong>typeof</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSome</span>(<span class="params">value: string |  number[]</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// 在这个语句块中， ts 知道 value 的类型必须是 string</span></span><br><span class="line">    <span class="built_in">console</span>.log(value.join(<span class="string">&#x27;,&#x27;</span>)); <span class="comment">// err: 类型“string”上不存在属性“join”。</span></span><br><span class="line">    <span class="built_in">console</span>.log(value.split(<span class="string">&quot;,&quot;</span>)); <span class="comment">//ok</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 在这个语句块中， ts 知道 value 的类型必须是 number[]</span></span><br><span class="line">    <span class="built_in">console</span>.log(value.join(<span class="string">&#x27;,&#x27;</span>)); <span class="comment">//  ok</span></span><br><span class="line">    <span class="built_in">console</span>.log(value.split(<span class="string">&quot;,&quot;</span>)); <span class="comment">// err: 类型“number[]”上不存在属性“split”。</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>instanceof</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">  catName = <span class="string">&quot;haha&quot;</span>;</span><br><span class="line">  catAge = <span class="number">12</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">  dogName = <span class="string">&quot;nani&quot;</span>;</span><br><span class="line">  dogAge = <span class="number">122</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomthing</span>(<span class="params">arg: Cat | Dog</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (arg <span class="keyword">instanceof</span> Cat) &#123;</span><br><span class="line">    <span class="comment">// 在这个语句块中，ts 知道 arg 的类型必须是 Cat</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.catName); <span class="comment">// ok</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.dogName); <span class="comment">// error: 类型“Cat”上不存在属性“dogName”</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="comment">// 在这个语句块中，ts 知道 arg 的类型必须是 Dog</span></span><br><span class="line">     <span class="built_in">console</span>.log(arg.catName); <span class="comment">// error: 类型“Dog”上不存在属性“catName”</span></span><br><span class="line">     <span class="built_in">console</span>.log(arg.dogName); <span class="comment">// ok</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>in</strong></p>
<p><code>in</code>操作符可以安全的检查一个对象上是否存在一个属性，也通常被作为类型保护来使用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">interface A &#123;</span><br><span class="line">  <span class="attr">x</span>: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface B &#123;</span><br><span class="line">  <span class="attr">y</span>: number[]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toDo</span>(<span class="params">arg: A | B</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">&#x27;x&#x27;</span> <span class="keyword">in</span> arg) &#123;</span><br><span class="line">    <span class="comment">// arg: A</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// arg: B</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="TypeScript-函数"><a href="#TypeScript-函数" class="headerlink" title="TypeScript 函数"></a>TypeScript 函数</h1><h2 id="函数的定义"><a href="#函数的定义" class="headerlink" title="函数的定义"></a>函数的定义</h2><p>可以指定参数的类型和返回值的类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// viod 表示该函数没有返回值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params">name: string, age: number</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>,age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  函数有返回值， 返回值是一个对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params">name: string, age: number</span>): </span>&#123;&#125; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name,</span><br><span class="line">    age,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  函数无返回值</span></span><br><span class="line"><span class="keyword">const</span> getUser: <span class="function">(<span class="params">name: string, age: number</span>) =&gt;</span> <span class="keyword">void</span> = <span class="function">(<span class="params">name, age</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>,age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">type funType =  <span class="function">(<span class="params">name: string, age: number</span>) =&gt;</span> <span class="keyword">void</span>;</span><br><span class="line"><span class="keyword">const</span> getUser: funType = <span class="function">(<span class="params">name, age</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>,age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数有返回值</span></span><br><span class="line">type funType =  <span class="function">(<span class="params">name: string, age: number</span>) =&gt;</span> <span class="built_in">Object</span>;</span><br><span class="line"><span class="keyword">const</span> getUser: funType = <span class="function">(<span class="params">name, age</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name,</span><br><span class="line">    age,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h2><p>使用<code>?</code>来表示参数是可选的，需要注意的是： 可选参数必须在必须参数之后</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// age 参数是可选的</span></span><br><span class="line">type funType =  <span class="function">(<span class="params">name: string, age?: number</span>) =&gt;</span> <span class="built_in">Object</span>;</span><br><span class="line"><span class="keyword">const</span> getUser: funType = <span class="function">(<span class="params">name, age</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name,</span><br><span class="line">    <span class="attr">age</span>: age || <span class="number">12</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// age 默认的值为 12</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params">name: string, age: number = <span class="number">12</span></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age); <span class="comment">// name: shuliqi age: 12</span></span><br><span class="line">&#125;</span><br><span class="line">getUser(<span class="string">&quot;shuliqi&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="剩余参数"><a href="#剩余参数" class="headerlink" title="剩余参数"></a>剩余参数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params">name: string, ...arg: number[]</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">getUser(<span class="string">&quot;shuliqi&quot;</span>, <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h2><p>函数重载/方法重载就是使用相同名称和不同参数或类型创建多个方法的一种功能， 在<code>TypeScript</code>中表现为给同一个函数提供多个函数类型定义。</p>
<p>函数重载真正执行的是同名函数最后定义的函数体，在最后一个函数体定义之前全部数据函数类型定义，不能写具体的函数实现方法，只能定义类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数重载：给同一个函数提供多个函数类型定义</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toDo</span>(<span class="params">value: string </span>): <span class="title">void</span> </span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toDo</span>(<span class="params">value: number </span>): <span class="title">void</span> </span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toDo</span>(<span class="params">value: any </span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...to</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  直接写成这样不香吗？</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toDo</span>(<span class="params">value: string | number | any </span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...to</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="TypeScript-类"><a href="#TypeScript-类" class="headerlink" title="TypeScript 类"></a>TypeScript 类</h1><h2 id="类的类型"><a href="#类的类型" class="headerlink" title="类的类型"></a>类的类型</h2><p>在 <code>TypeScript</code> 中，我们也是可以通过 <code>Class</code> 关键字来定义一个类。 类的类型和接口类型类似。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">  <span class="attr">name</span>: string</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">_name: string</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = _name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> people = <span class="keyword">new</span> People(<span class="string">&quot;shuliqi&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(people.getName()); <span class="comment">// shuliqi</span></span><br></pre></td></tr></table></figure>

<h2 id="存取器"><a href="#存取器" class="headerlink" title="存取器"></a>存取器</h2><p>在<code>TypeScript</code>中， 我们可以通过存取器来来改变一个类中属性的读取和赋值的行为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">  <span class="attr">myName</span>: string</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">_name: string</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.myName = _name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">name</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.myName</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">set</span> <span class="title">name</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>.myName = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> people = <span class="keyword">new</span> People(<span class="string">&quot;shuliqi&quot;</span>);</span><br><span class="line">people.name = <span class="string">&quot;世界那么大&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(people.name); <span class="comment">//  世界那么大</span></span><br></pre></td></tr></table></figure>

<h2 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h2><p>只读属性关键字，只允许出现在属性声明或者索引签名或构造函数中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">  readonly myName: string</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">_name: string</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.myName = _name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> people = <span class="keyword">new</span> People(<span class="string">&quot;shuliqi&quot;</span>);</span><br><span class="line">people.myName = <span class="string">&quot;世界那么大&quot;</span>; <span class="comment">// error:  无法分配到 &quot;myName&quot; ，因为它是只读属性。</span></span><br></pre></td></tr></table></figure>

<h2 id="类修饰符"><a href="#类修饰符" class="headerlink" title="类修饰符"></a>类修饰符</h2><p>在<code>TypeScript</code> 中可以使用三种修饰符：<code>public</code>,<code>private</code>,<code>protected</code>:</p>
<ul>
<li><code>public</code> 修饰的属性或方法是公有的，可以在任何地方被访问到，默认的所有属性和方法都是<code>public</code>的</li>
<li><code>private</code>修饰的属性或方法是私有的，不可以在声明它的类的外部访问</li>
<li><code>protected</code>修饰的属性或方法都是搜保护的，它和<code>private</code>类似，区别是它在子类中也是允许被访问的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">  public myName: string</span><br><span class="line">  private age: string</span><br><span class="line">  protected sex: string</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">_name: string</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.myName = _name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">getAge</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.age)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPeople</span>  <span class="keyword">extends</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(name);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.sex); <span class="comment">// 可以被访问</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.age); <span class="comment">// err：属性“age”为私有属性，只能在类“People”中访问</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> people = <span class="keyword">new</span> MyPeople(<span class="string">&quot;shuliqi&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(people.age); <span class="comment">// err: 属性“age”为私有属性，只能在类“People”中访问</span></span><br></pre></td></tr></table></figure>

<h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p>使用<code>abstract</code>来定义一个抽象类；所谓的抽象类就是指不能被实例化的类：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个抽象类</span></span><br><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">  public myName: string</span><br><span class="line">  private age: string</span><br><span class="line">  protected sex: string</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">_name: string</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.myName = _name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">getAge</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.age)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 抽象类是不允许被实例化的</span></span><br><span class="line"><span class="keyword">const</span> people = <span class="keyword">new</span> People(<span class="string">&quot;shuliqi&quot;</span>); <span class="comment">// ERR: 无法创建抽象类的实例。</span></span><br></pre></td></tr></table></figure>



<h1 id="TypeScript-接口"><a href="#TypeScript-接口" class="headerlink" title="TypeScript 接口"></a>TypeScript 接口</h1><p>接口既可以在面向对象编程中表示为行为的抽象，也可以用来描述对象的形状。</p>
<h2 id="接口定义"><a href="#接口定义" class="headerlink" title="接口定义"></a>接口定义</h2><p>在<code>TypeScript</code>中，使用<code>interface</code>关键字来定义接口，在接口中可以使用分号或者逗号分割每一项，也可以什么也不加。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以什么分割号都不加</span></span><br><span class="line">interface Props &#123;</span><br><span class="line">  <span class="attr">name</span>: string</span><br><span class="line">  <span class="attr">age</span>: <span class="number">12</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以使用 逗号分割</span></span><br><span class="line">interface Props &#123;</span><br><span class="line">  <span class="attr">name</span>: string,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">12</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以使用分号分割</span></span><br><span class="line">interface Props &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  age: <span class="number">12</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="对象形状"><a href="#对象形状" class="headerlink" title="对象形状"></a>对象形状</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 描述对象的形状</span></span><br><span class="line">interface Person &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  age: number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> shu: Person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;shuliqi&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">12</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例子中我们定义了一个接口 <code>Person</code>， 然后我们定义了一个变量 <code>shu</code>，它的类型是 <code>Person</code>。这就约束了<code>shu</code>的形状必须和<code>Person</code>一致。</p>
<p>注意：接口的首字母一般大写。</p>
<p>如果我们定义的变量比接口少一些属性是不允许的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  age: number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> shu: Person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;shuliqi&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译时会报错的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;age&#x27;</span> is declared here.</span><br></pre></td></tr></table></figure>

<p>如果我们定义的变量比接口多一些属性也是不允许的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  age: number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> shu: Person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;shuliqi&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">12</span>,</span><br><span class="line">  <span class="attr">parent</span>: <span class="string">&#x27;shulina&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译报错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">error TS2322: Type <span class="string">&#x27;&#123; name: string; age: number; parent: string; &#125;&#x27;</span> is not assignable to type <span class="string">&#x27;Person&#x27;</span>.</span><br><span class="line">  <span class="built_in">Object</span> literal may only specify known properties, and <span class="string">&#x27;parent&#x27;</span> does not exist <span class="keyword">in</span> type <span class="string">&#x27;Person&#x27;</span>.</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>  parent: <span class="string">&#x27;shulina&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="可选属性"><a href="#可选属性" class="headerlink" title="可选属性"></a>可选属性</h2><p>有的时候我们不需要完全匹配一个形状。我们可以使用可选属性：在属性后端加 ？ 符号。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  age?: number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> shu: Person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;shuliqi&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可选属性的含义可以不存在。注意： 这时候仍然不可以添加未定义的属性。</p>
<h2 id="任意属性"><a href="#任意属性" class="headerlink" title="任意属性"></a>任意属性</h2><p>如果我们在定义接口的时候无法预先知道哪些属性的时候，可以使用<code>[propName: string]:any</code>。<code>propName</code> 属性名是任意的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  [propName: string]: any;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> shu: Person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;shuliqi&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">12</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：<strong>如果我们的定义了任意属性，那么确定属性和可选属性都必须是它值类型的子集：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  age?: number</span><br><span class="line">  [propName: string]: string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> shu: Person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;shuliqi&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">12</span>,</span><br><span class="line">  <span class="attr">parent</span>: <span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译额时候会报错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Type <span class="string">&#x27;&#123; name: string; age: number; parent: string; &#125;&#x27;</span> is not assignable to type <span class="string">&#x27;Person&#x27;</span>.</span><br><span class="line">  Property <span class="string">&#x27;age&#x27;</span> is incompatible <span class="keyword">with</span> index signature.</span><br><span class="line">    Type <span class="string">&#x27;number&#x27;</span> is not assignable to type <span class="string">&#x27;string&#x27;</span>.</span><br><span class="line"></span><br><span class="line"><span class="number">6</span> <span class="keyword">let</span> shu: Person = &#123;</span><br><span class="line">      ~~~</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Found <span class="number">2</span> errors.</span><br></pre></td></tr></table></figure>

<p><strong>原因</strong>：可选属性age的值的类型是number， 任意属性的值的类型 是string。number 不是stringl类型。所以会报错.</p>
<h2 id="只读属性"><a href="#只读属性" class="headerlink" title="只读属性"></a>只读属性</h2><p>一些对象的属性只能在对象刚刚创建的时候能修改其值。 可以在属性，可以在属性前面加<code>readonly</code> 来指定可读属性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface User &#123;</span><br><span class="line">  <span class="comment">// name 属性的值是只读的</span></span><br><span class="line">  readonly name: string</span><br><span class="line">  <span class="attr">age</span>: number</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> people: User = &#123; <span class="attr">name</span>: <span class="string">&quot;shuliqi&quot;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;;</span><br><span class="line"><span class="comment">// 尝试修改 name 属性的值， 会 err</span></span><br><span class="line">people.name = <span class="string">&quot;haha&quot;</span>; <span class="comment">// err</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="实现-implements-接口"><a href="#实现-implements-接口" class="headerlink" title="实现(implements)接口"></a>实现(implements)接口</h2><p>实现是面向对象中的一个重要概念，一般来讲，一个类只能继承自另外一个类， 但是有时候不同类之间可以有一些共有的特性，这时候就可以把特性提取成接口<code>interface</code>。</p>
<p>举个例子：门是一个类，防盗门是门的子类。 如果防盗门有一个报警器的功能，我们就可以简单的给防盗门添加一个报警方法。这时候如果有另外一个类 车，也有该报警器的功能，我们就可以考虑把报警器提取出来，作为一个接口，让防盗门和车都去实现它：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 报警器</span></span><br><span class="line">interface Alarm &#123;</span><br><span class="line">  <span class="comment">// 报警方法</span></span><br><span class="line">  alert(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 类 门</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Door</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子类：SecurityDoor继承Door; 并且要实现（implements）报警器接口(Alarm)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SecurityDoor</span> <span class="keyword">extends</span> <span class="title">Door</span> <span class="title">implements</span> <span class="title">Alarm</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">alert</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我是防盗门的报警方法&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类：Car 实现 Alarm 接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> <span class="title">implements</span> <span class="title">Alarm</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">alert</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我是车的报警方法&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一个也可以实现多个接口：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Alarm接口</span></span><br><span class="line">interface Alarm &#123;</span><br><span class="line">  <span class="comment">// 报警方法</span></span><br><span class="line">  alert(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Light 接口</span></span><br><span class="line">interface Light &#123;</span><br><span class="line">  lightOn(): <span class="keyword">void</span>;</span><br><span class="line">  lightOff(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 类 门</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Door</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子类：SecurityDoor继承Door; 并且要实现（implements）报警器接口(Alarm)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SecurityDoor</span> <span class="keyword">extends</span> <span class="title">Door</span> <span class="title">implements</span> <span class="title">Alarm</span>, <span class="title">Light</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="title">alert</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我是防盗门的报警方法&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">lightOn</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;防盗门灯打开&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">lightOff</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;防盗门灯关闭&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>implements</code>的意义是什么？</p>
<h2 id="接口-extends-继承"><a href="#接口-extends-继承" class="headerlink" title="接口(extends)继承"></a>接口(extends)继承</h2><p>除了类可以继承，接口同样也是可以继承。同样的使用 <code>extends</code>关键字。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">interface User &#123;</span><br><span class="line">  <span class="attr">name</span>: string</span><br><span class="line">  <span class="attr">age</span>: number</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 接口 DetailUser 继承了 User</span></span><br><span class="line">interface  DetailUser <span class="keyword">extends</span> User &#123;</span><br><span class="line">  <span class="attr">sex</span>: string</span><br><span class="line">  <span class="attr">getName</span>: <span class="function">() =&gt;</span> string</span><br><span class="line">  <span class="attr">other</span>: <span class="built_in">Object</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">implements</span> <span class="title">DetailUser</span> </span>&#123;</span><br><span class="line">  name = <span class="string">&quot;shuliqi&quot;</span></span><br><span class="line">  age =  <span class="number">12</span></span><br><span class="line">  sex = <span class="string">&#x27;女&#x27;</span></span><br><span class="line">  <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">  &#125;</span><br><span class="line">  other = &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数类型接口"><a href="#函数类型接口" class="headerlink" title="函数类型接口"></a>函数类型接口</h2><p>在<code>javaScript</code>中，有两种常见定义函数的方法— 函数声明 和 函数表达式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDetail</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">const</span> getDetail = <span class="function">(<span class="params">name, age</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果用接口来定义函数的形状：</p>
<p><strong>函数声明:</strong></p>
<p>函数声明的类型定义比较简单</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明 类型定义</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDetail</span>(<span class="params">name: string, age: number</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p><strong>函数表达式:</strong></p>
<p>如果我们现在要对一个函数表达式的ts 约定， 可能会写成这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数表达式 类型定义</span></span><br><span class="line"><span class="keyword">const</span> getDetail = (name: string, <span class="attr">age</span>: number) : <span class="function"><span class="params">void</span>  =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然这种方式是可以通过编译的。但是事实上，上面的代码只是对等号右边的匿名函数进行了类型定义。而等号右边的<code>getDetail</code>是通过赋值操作进行类型推论而推断出来的。 如果需要我们手动给<code>getDetail</code>添加类型的话，则应该是这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 给等号右边的 getDetail 进行类型定义</span></span><br><span class="line"><span class="keyword">const</span> getDetail:<span class="function">(<span class="params">name: string, age: number</span>)=&gt;</span> <span class="keyword">void</span>= (name: string, <span class="attr">age</span>: number) : <span class="function"><span class="params">void</span>  =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意： 不要混淆 <code>TypeScript</code>中的 <code>=&gt;</code>  和 <code>ES6</code>中的<code>=&gt;</code></p>
<p>在<code>TypeScript</code>的类型定义中，<code>=&gt;</code>是用来表示函数的定义，左边是输入的类型。需要用括号括起来，右边是输出的类型</p>
</blockquote>
<p> 上面函数表达式的类型定义我们可以使用接口的方式来定义一个函数需要符合的形状：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">interface Detail &#123;</span><br><span class="line">  (name: string, <span class="attr">age</span>: number): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> getDetail:Detail = (name: string, <span class="attr">age</span>: number) : <span class="function"><span class="params">void</span>  =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>采用接口这种方式，对函数表达式等号左边的进行类型限制，就可以保证以后对该函数赋值时保证参数个数，参数类型，返回值类型不变。</p>
<h2 id="构造函数的类型接口"><a href="#构造函数的类型接口" class="headerlink" title="构造函数的类型接口"></a>构造函数的类型接口</h2><p>当我们需要把一个类作为参数的时候， 需要对传入的构造函数类型进行约束就需要使用 <code>new</code>  关键字来代表类的构造函数类型，用以与普通函数进行区别。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">  <span class="title">constructor</span> (<span class="params">name: string</span>) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line">interface NewPeople &#123;</span><br><span class="line">  <span class="comment">// 使用 new  说明是构造函数</span></span><br><span class="line">  <span class="keyword">new</span> (name: string): People</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPeople</span>(<span class="params"> createClass:NewPeople </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> createClass(<span class="string">&quot;shuliqi&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="TypeScript-泛型"><a href="#TypeScript-泛型" class="headerlink" title="TypeScript 泛型"></a>TypeScript 泛型</h1><p>泛型（Generics）是指在定义函数，接口或者类的时候，不预先指定具体的类型，而是在使用的时候再指定类型的一种特性。</p>
<h2 id="简单例子："><a href="#简单例子：" class="headerlink" title="简单例子："></a>简单例子：</h2><p>为了更加了解泛型的作用， 我们先来看一个简单的例子：实现可以创建指定的长度的数组，每一项都是填充一个默认值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArray</span>(<span class="params">length: number, value: any</span>): <span class="title">Array</span>&lt;<span class="title">any</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        result[i] = value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createArray(<span class="number">3</span>, <span class="string">&#x27;x&#x27;</span>); <span class="comment">// [&#x27;x&#x27;, &#x27;x&#x27;, &#x27;x&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>上面的代码编译是不会出错的， 但是有一个缺陷，它没有准确的定义返回值的类型： 无论我们传入什么类型的<code>value</code>。返回的数组用以是<code>any</code>类型。如果我们想要的效果是： 我们预先不知道会传入什么类型的值，但是我们希望不管我们传入什么类型，我们返回的数组里面的类型应该和参数一致。那么这时候就需要用到泛型了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArray</span>&lt;<span class="title">T</span>&gt;(<span class="params">length: number, value: T</span>): <span class="title">Array</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">      result[i] = value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">createArray&lt;string&gt;(<span class="number">3</span>, <span class="string">&#x27;x&#x27;</span>); <span class="comment">// [&#x27;x&#x27;, &#x27;x&#x27;, &#x27;x&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>我们在函数名后端添加<code>&lt;T&gt;</code>,其中<code>T</code>用来指代任意输入的类型，在后面输入 <code>value: T</code> 和<code>Array&lt;T&gt;</code>即可。</p>
<h2 id="多个类型参数"><a href="#多个类型参数" class="headerlink" title="多个类型参数"></a>多个类型参数</h2><p>定义泛型的时候，可以一次性定义多个类型参数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>&lt;<span class="title">T</span>,<span class="title">U</span>&gt;(<span class="params">value: [T,U]</span>): [<span class="title">U</span>,<span class="title">T</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [value[<span class="number">1</span>], value[<span class="number">0</span>]]</span><br><span class="line">&#125;</span><br><span class="line">swap([<span class="number">1</span>,<span class="string">&#x27;str&#x27;</span>])</span><br></pre></td></tr></table></figure>

<h2 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h2><p>在函数内部使用泛型变量的时候，由于事先不知道它是哪种类型，所以不能随意操作它的属性或方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logLen</span>&lt;<span class="title">T</span>&gt;(<span class="params">arr: T</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arr.length); <span class="comment">// err: 类型“T”上不存在属性“length”</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例子中 泛型 <code>T</code> 不一定包含属性<code>length</code>， 所以编译的时候出错了。 </p>
<p>这时候我们可以对泛型进行约束，只允许这个函数传入那些包含<code>length</code> 属性的变量。这就是泛型约束：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">interface Length&#123;</span><br><span class="line">  <span class="attr">length</span>: number</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logLen</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">Length</span>&gt;(<span class="params">arr: T</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arr.length);  <span class="comment">// OK</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例子使用<code>extends</code>约束了泛型<code>T</code>必须符合接口<code>Length</code>。 </p>
<h2 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h2><p>上面有说道可以使用接口的方式来定义一个函数需要符合的形状：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">interface Detail &#123;</span><br><span class="line">  (name: string, <span class="attr">age</span>: number): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> getDetail:Detail = (name: string, <span class="attr">age</span>: number) : <span class="function"><span class="params">void</span>  =&gt;</span> &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然也是可以使用泛型的接口来定义函数的形状</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">interface Detail &#123;</span><br><span class="line">  &lt;T&gt;(name: string, <span class="attr">age</span>: T): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> getDetail:Detail = &lt;T&gt;(name: string, <span class="attr">age</span>: T) : <span class="function"><span class="params">void</span>  =&gt;</span> &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以把泛型提到接口名上, 但是这时候需要注意使用泛型接口的时候，需要定义泛型的类型：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将泛型提到接口名上</span></span><br><span class="line">interface Detail&lt;T&gt; &#123;</span><br><span class="line">  (name: string, <span class="attr">age</span>: T): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用泛型的时候，需要定义泛型的类型</span></span><br><span class="line"><span class="keyword">const</span> getDetail:Detail&lt;any&gt; = &lt;T&gt;(name: string, <span class="attr">age</span>: T) : <span class="function"><span class="params">void</span>  =&gt;</span> &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;age:&quot;</span>, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h2><p>与泛型接口类似，泛型也可以用于类的类型定义中：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="attr">name</span>: string</span><br><span class="line">  <span class="attr">age</span>: T</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">new</span> People&lt;number&gt;();</span><br><span class="line">user.name = <span class="string">&quot;shuliqi&quot;</span>;</span><br><span class="line">user.age =  <span class="number">12</span>;</span><br></pre></td></tr></table></figure>

<h2 id="泛型参数的默认类型"><a href="#泛型参数的默认类型" class="headerlink" title="泛型参数的默认类型"></a>泛型参数的默认类型</h2><p>我们可以为泛型中的类型参数指定默认类型。当使用泛型时没有在代码中直接指定类型采纳数， 从实际值参数中也无法推测出时，这个默认值类型就会起到作用:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>&lt;<span class="title">T</span> </span>= string&gt; &#123;</span><br><span class="line">  <span class="attr">name</span>: string</span><br><span class="line">  <span class="attr">age</span>: T</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>学习参考文章：</p>
<ul>
<li> <a target="_blank" rel="noopener" href="https://ts.xcatliu.com/advanced/class-and-interfaces.html">https://ts.xcatliu.com/advanced/class-and-interfaces.html</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/7031787942691471396#heading-35">https://juejin.cn/post/7031787942691471396#heading-35</a></li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">舒小琦</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://shuliqi.github.io/2021/11/24/TypeScript入门-一/">https://shuliqi.github.io/2021/11/24/TypeScript入门-一/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://shuliqi.github.io">舒小琦的Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2021/12/02/%E5%A6%82%E4%BD%95%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AAreact-UI%E7%BB%84%E4%BB%B6%E5%BA%93/"><i class="fa fa-chevron-left">  </i><span>如何开发一个react UI组件库</span></a></div><div class="next-post pull-right"><a href="/2021/11/22/%E4%B8%BA%E4%BB%80%E4%B9%88%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E4%B9%9F%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5-React%EF%BC%9F/"><span>为什么函数组件也需要引入 React？</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(/webp.webp)"><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2021 By 舒小琦</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>